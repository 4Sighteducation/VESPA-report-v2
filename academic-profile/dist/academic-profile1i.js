!function(){"use strict";var e=document.createElement("style");
/**
  * @vue/shared v3.5.24
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/
function t(e){const t=Object.create(null);for(const a of e.split(","))t[a]=1;return e=>e in t}e.textContent='.subject-card[data-v-684ff143]{background:linear-gradient(180deg,#334285 0%,#2d3b7a 100%);color:#fff;border-radius:6px;padding:12px;box-shadow:0 2px 6px #0003;transition:all .3s;border:1px solid rgba(7,155,170,.3);border-left:8px solid var(--accent, #00e5db);position:relative;height:100%;display:flex;flex-direction:column}.subject-card[data-v-684ff143]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:8px;border-top-left-radius:6px;border-bottom-left-radius:6px;opacity:.45;background:linear-gradient(180deg,var(--accent, #00e5db) 0%,rgba(0,0,0,0) 100%)}.subject-card[data-v-684ff143]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #0000004d}.subject-title[data-v-684ff143]{text-align:center;margin-bottom:8px;padding:6px 8px;border-radius:6px;border:1px solid rgba(255,255,255,.18);background:rgba(0,0,0,.08)}.subject-name[data-v-684ff143]{font-weight:800;color:#fff;font-size:1.05em;line-height:1.15}.subject-meta[data-v-684ff143]{font-size:.75em;color:#bdc3c7;margin-bottom:8px;text-align:center}.meta-edit-grid[data-v-684ff143]{display:grid;grid-template-columns:1fr;gap:6px}.meta-input[data-v-684ff143]{width:100%;padding:6px 8px;font-size:12px;border:1px solid rgba(255,255,255,.22);background:rgba(0,0,0,.12);color:#fff;border-radius:6px}.meta-input[data-v-684ff143]::placeholder{color:#ffffff8c}.grades-container[data-v-684ff143]{display:grid;grid-template-columns:repeat(auto-fit,minmax(64px,1fr));gap:6px;margin-top:8px;padding-top:8px;border-top:1px solid rgba(255,255,255,.1);flex:1}.grade-item[data-v-684ff143]{text-align:center;padding:4px}.grade-label[data-v-684ff143]{font-size:.7em;color:#bdc3c7;margin-bottom:3px;display:flex;align-items:center;justify-content:center;gap:3px}.meg-info-button[data-v-684ff143]{font-size:11px;color:#00e5db;cursor:pointer;border:1px solid #00e5db;border-radius:50%;width:14px;height:14px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;font-style:normal;transition:all .2s}.meg-info-button[data-v-684ff143]:hover{background-color:#00e5db;color:#23356f;transform:scale(1.1)}.grade-value-display[data-v-684ff143]{font-size:1em}.grade-text[data-v-684ff143]{font-weight:800;color:#fff;font-size:18px;letter-spacing:.02em}.grade-meg .grade-text[data-v-684ff143]{color:#00e5db}.grade-stg .grade-text[data-v-684ff143]{color:#79d2e6}.current-grade-item .grade-text[data-v-684ff143],.target-grade-item .grade-text[data-v-684ff143]{font-size:20px}.grade-input-dynamic[data-v-684ff143]{width:100%;max-width:84px;padding:4px;font-size:.9em;text-align:center;border:1px solid #079baa;background-color:#23356f;color:#fff;border-radius:3px}.grade-input-dynamic[data-v-684ff143]:focus{outline:none;border-color:#00e5db;box-shadow:0 0 4px #00e5db66}.optional-grades-container[data-v-684ff143]{display:flex;justify-content:space-around;margin-top:8px;padding-top:6px;border-top:1px dashed rgba(255,255,255,.1);font-size:.75em}.optional-grade-item[data-v-684ff143]{text-align:center;color:#e0e0e0}.optional-grade-label[data-v-684ff143]{font-weight:600;color:#00e5db;margin-right:3px}.optional-grade-input[data-v-684ff143]{width:40px;padding:3px;font-size:.9em;text-align:center;border:1px solid #079baa;background-color:#23356f;color:#fff;border-radius:3px}.attendance-input[data-v-684ff143]{width:35px}.grade-significantly-above[data-v-684ff143]{color:#00e676!important}.grade-above[data-v-684ff143]{color:#00c853!important}.grade-matching[data-v-684ff143]{color:#4caf50!important}.grade-one-below[data-v-684ff143]{color:#ff9800!important}.grade-two-below[data-v-684ff143]{color:#f44336!important}.grade-far-below[data-v-684ff143]{color:#c62828!important}.qual-a-level[data-v-684ff143]{border-left:5px solid #FF6347}.qual-btec-2016[data-v-684ff143]{border-left:5px solid #4682B4}.qual-btec-2010[data-v-684ff143]{border-left:5px solid #32CD32}.qual-ib[data-v-684ff143]{border-left:5px solid #FFD700}.qual-pre-u[data-v-684ff143]{border-left:5px solid #DA70D6}.qual-ual[data-v-684ff143]{border-left:5px solid #FFA500}.qual-wjec[data-v-684ff143]{border-left:5px solid #8A2BE2}.qual-cache[data-v-684ff143]{border-left:5px solid #00CED1}.qual-gcse[data-v-684ff143]{border-left:5px solid #DC143C}.meg-info-overlay[data-v-684ff143]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:10001}.meg-info-modal[data-v-684ff143]{background:#1c2b5f;color:#fff;border:2px solid #00e5db;border-radius:8px;padding:20px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;position:relative}.modal-close[data-v-684ff143]{position:absolute;top:10px;right:15px;font-size:24px;color:#00e5db;cursor:pointer;font-weight:700}.modal-close[data-v-684ff143]:hover{color:#fff}.meg-info-modal h4[data-v-684ff143]{color:#00e5db;margin-bottom:15px;border-bottom:1px solid rgba(0,229,219,.4);padding-bottom:10px}.meg-info-modal p[data-v-684ff143]{line-height:1.6;margin-bottom:15px}.meg-info-modal strong[data-v-684ff143]{color:#00e5db}.ks4-card[data-v-14438103]{position:relative;overflow:hidden;background:linear-gradient(180deg,rgba(9,34,22,.92),rgba(11,46,28,.88));border:1px solid rgba(124,255,154,.18);border-left:5px solid var(--ks4-accent);border-radius:10px;padding:9px 10px 9px 12px;box-shadow:0 6px 16px #00000040;display:flex;flex-direction:column;gap:8px;min-height:82px}.ks4-card[data-v-14438103]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(520px circle at 18% -20%,var(--ks4-accent) 0%,transparent 55%);opacity:.16;pointer-events:none}.ks4-card[data-v-14438103]>*{position:relative;z-index:1}.ks4-header[data-v-14438103]{display:flex;align-items:baseline;justify-content:space-between;gap:8px}.ks4-subject[data-v-14438103]{font-weight:800;color:#d7ffe4;font-size:14px;line-height:1.15;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ks4-qual[data-v-14438103]{font-size:11px;color:#d7ffe4bf;border:1px solid rgba(124,255,154,.18);padding:2px 6px;border-radius:999px;background:rgba(0,0,0,.12);white-space:nowrap}.ks4-card .ks4-qual[data-v-14438103]{border-color:color-mix(in srgb,var(--ks4-accent) 45%,transparent);color:color-mix(in srgb,var(--ks4-accent) 65%,rgba(215,255,228,.75))}.ks4-grades[data-v-14438103]{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:6px}.ks4-pill[data-v-14438103]{background:rgba(255,255,255,.06);border:1px solid rgba(124,255,154,.12);border-radius:8px;padding:6px;text-align:center}.ks4-pill-label[data-v-14438103]{font-size:10px;color:#d7ffe4bf;margin-bottom:2px}.ks4-pill-value[data-v-14438103]{font-size:13px;font-weight:700;color:#fff;line-height:1.1}.ks4-pill-value-strong[data-v-14438103]{color:#7cff9a}.ks4-input[data-v-14438103]{width:100%;max-width:60px;padding:4px 6px;border-radius:6px;border:1px solid rgba(124,255,154,.25);background:rgba(0,0,0,.18);color:#fff;text-align:center;font-weight:700;font-size:12px;outline:none}@media (max-width: 768px){.ks4-grades[data-v-14438103]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (max-width: 420px){.ks4-grades[data-v-14438103]{grid-template-columns:repeat(2,minmax(0,1fr))}}.info-modal-overlay[data-v-97c48d28]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10002}.info-modal-content[data-v-97c48d28]{background:#1c2b5f;color:#fff;border:2px solid #00e5db;border-radius:8px;padding:25px;max-width:600px;width:90%;max-height:85vh;overflow-y:auto;position:relative}.modal-close[data-v-97c48d28]{position:absolute;top:12px;right:15px;font-size:28px;color:#00e5db;cursor:pointer;font-weight:700;line-height:1}.modal-close[data-v-97c48d28]:hover{color:#fff}.info-modal-content h3[data-v-97c48d28]{color:#00e5db;font-size:1.5em;margin-top:0;margin-bottom:20px;border-bottom:2px solid rgba(0,229,219,.4);padding-bottom:10px}.info-modal-content h4[data-v-97c48d28]{color:#00e5db;font-size:1.2em;margin-top:20px;margin-bottom:10px}.info-modal-content p[data-v-97c48d28]{line-height:1.7;margin-bottom:15px}.info-modal-content ul[data-v-97c48d28]{margin-left:20px;margin-bottom:15px}.info-modal-content li[data-v-97c48d28]{margin-bottom:8px;line-height:1.6}.info-modal-content strong[data-v-97c48d28]{color:#00e5db}.info-modal-content[data-v-97c48d28]::-webkit-scrollbar{width:8px}.info-modal-content[data-v-97c48d28]::-webkit-scrollbar-track{background:rgba(255,255,255,.1)}.info-modal-content[data-v-97c48d28]::-webkit-scrollbar-thumb{background:#00e5db;border-radius:4px}.ucas-overlay[data-v-d2989608]{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.65);z-index:99999;display:flex;align-items:stretch;justify-content:stretch}.ucas-modal[data-v-d2989608]{width:100%;height:100%;background:linear-gradient(135deg,#1b1444 0%,#241c58 45%,#2f2672 100%);color:#fff;display:flex;flex-direction:column}.ucas-header[data-v-d2989608]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.1)}.ucas-title[data-v-d2989608]{font-size:18px;font-weight:800}.ucas-course-row[data-v-d2989608]{display:flex;align-items:center;gap:10px;margin-top:6px;flex-wrap:wrap}.ucas-course-label[data-v-d2989608]{font-size:12px;opacity:.8}.ucas-select[data-v-d2989608],.ucas-input[data-v-d2989608],.ucas-textarea[data-v-d2989608]{background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.14);color:#fff;border-radius:10px}.ucas-select[data-v-d2989608]{padding:8px 10px;min-width:340px;max-width:min(620px,100%)}.ucas-btn[data-v-d2989608]{border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.16);color:#fff;border-radius:999px;padding:8px 12px;cursor:pointer;text-decoration:none;font-weight:700}.ucas-btn[data-v-d2989608]:disabled{opacity:.55;cursor:not-allowed}.ucas-btn-primary[data-v-d2989608]{background:rgba(62,50,133,.9);border-color:#3e3285e6}.ucas-btn-close[data-v-d2989608]{padding:8px 10px}.ucas-body[data-v-d2989608]{padding:14px 16px 18px;overflow:auto}.ucas-top-grid[data-v-d2989608]{display:grid;grid-template-columns:1.1fr 1fr;gap:12px}@media (max-width: 1100px){.ucas-top-grid[data-v-d2989608]{grid-template-columns:1fr}}.ucas-card[data-v-d2989608]{background:rgba(0,0,0,.14);border:1px solid rgba(62,50,133,.45);border-radius:14px;padding:12px}.ucas-card-title[data-v-d2989608]{font-weight:800;margin-bottom:4px}.ucas-card-hint[data-v-d2989608]{opacity:.78;font-size:12px;margin-bottom:10px}.ucas-empty[data-v-d2989608]{opacity:.8;padding:8px 0}.ucas-subjects-grid[data-v-d2989608]{display:grid;grid-template-columns:1fr 220px;gap:8px 10px;align-items:center}.ucas-subjects-head[data-v-d2989608]{font-size:12px;opacity:.75}.ucas-subject-name[data-v-d2989608]{font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ucas-input[data-v-d2989608]{width:100%;padding:8px 10px}.ucas-metrics[data-v-d2989608]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}.ucas-metric[data-v-d2989608]{background:rgba(0,0,0,.12);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px}.ucas-metric-label[data-v-d2989608]{font-size:12px;opacity:.75}.ucas-metric-value[data-v-d2989608]{font-weight:900;font-size:16px;margin-top:2px}.ucas-metric-value.bad[data-v-d2989608]{color:#ffb4b4}.ucas-metric-sub[data-v-d2989608]{font-size:12px;opacity:.75}.ucas-preview-box[data-v-d2989608]{white-space:pre-wrap;background:rgba(0,0,0,.12);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px;max-height:180px;overflow:auto;line-height:1.35}.ucas-questions[data-v-d2989608]{margin-top:12px;display:grid;gap:12px}.ucas-q[data-v-d2989608]{background:rgba(0,0,0,.14);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:12px}.ucas-q-head[data-v-d2989608]{display:flex;align-items:baseline;justify-content:space-between;gap:10px;margin-bottom:8px}.ucas-q-title[data-v-d2989608]{font-weight:900}.ucas-q-count[data-v-d2989608]{opacity:.75;font-size:12px}.ucas-textarea[data-v-d2989608]{width:100%;min-height:140px;padding:10px 12px;resize:vertical;line-height:1.4}.ucas-textarea-sm[data-v-d2989608]{min-height:90px}.ucas-comments[data-v-d2989608]{margin-top:12px}.ucas-comment-compose[data-v-d2989608]{margin-top:8px}.ucas-comment-actions[data-v-d2989608]{display:flex;justify-content:flex-end;gap:10px;margin-top:8px}.ucas-comment-list[data-v-d2989608]{display:grid;gap:10px;margin-top:10px}.ucas-comment[data-v-d2989608]{background:rgba(0,0,0,.12);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px}.ucas-comment-meta[data-v-d2989608]{display:flex;gap:10px;justify-content:space-between;opacity:.8;font-size:12px;margin-bottom:6px}.ucas-footer[data-v-d2989608]{border-top:1px solid rgba(255,255,255,.1);padding:10px 16px;display:flex;justify-content:space-between;gap:12px}.ucas-warn[data-v-d2989608]{color:#ffd6a6;font-size:12px;margin-top:4px}.ucas-toast[data-v-d2989608]{font-size:12px;opacity:.9}.vespa-profile-display[data-v-c25b9d2a]{margin-bottom:24px;width:100%;max-width:100%!important;box-sizing:border-box}.vespa-section[data-v-c25b9d2a]{background-color:#2a3c7a;border-radius:8px;box-shadow:0 4px 12px #0000004d;padding:16px;border:2px solid #079baa;position:relative}.vespa-section.ks4-theme[data-v-c25b9d2a]{background-color:#0f2b1a;border-color:#7cff9a8c}.vespa-section.ks4-theme .vespa-section-title[data-v-c25b9d2a]{color:#7cff9a!important;border-bottom-color:#7cff9a73}.vespa-section.ks4-theme .profile-info-button[data-v-c25b9d2a]{color:#7cff9a;border-color:#7cff9acc}.vespa-section.ks4-theme .profile-info-button[data-v-c25b9d2a]:hover{background-color:#7cff9a;color:#0f2b1a}.vespa-section.ks4-theme .profile-details[data-v-c25b9d2a]{background-color:#123522;border-color:#7cff9a38}.vespa-section.ks4-theme .profile-name[data-v-c25b9d2a],.vespa-section.ks4-theme .profile-label[data-v-c25b9d2a]{color:#7cff9a}.vespa-section.ks4-theme .small-toggle[data-v-c25b9d2a]{border-color:#7cff9a4d}.vespa-section.ks4-theme .master-edit-icon.edit-icon[data-v-c25b9d2a]{color:#7cff9a;border-color:#7cff9ad9}.profile-info.ks4-layout[data-v-c25b9d2a],.profile-info.ks5-layout[data-v-c25b9d2a]{flex-direction:column}.profile-details.ks4-profile-strip[data-v-c25b9d2a],.profile-details.ks5-profile-strip[data-v-c25b9d2a]{width:100%;min-height:auto;padding:12px 14px}.profile-details.ks4-profile-strip .profile-name[data-v-c25b9d2a],.profile-details.ks5-profile-strip .profile-name[data-v-c25b9d2a]{font-size:20px;margin-bottom:8px;padding-bottom:8px}.profile-items[data-v-c25b9d2a]{display:flex;flex-wrap:wrap;gap:8px 14px}.profile-details.ks4-profile-strip .profile-item[data-v-c25b9d2a],.profile-details.ks5-profile-strip .profile-item[data-v-c25b9d2a]{margin-bottom:0;padding:4px 0}.vespa-section.ks4-theme .subjects-grid.ks4-grid[data-v-c25b9d2a]{grid-template-columns:repeat(3,minmax(200px,1fr));gap:8px;align-items:start;grid-auto-rows:auto}.profile-info.ks5-layout .subjects-container[data-v-c25b9d2a]{width:100%;min-width:0;min-height:auto}@media (max-width: 1050px){.vespa-section.ks4-theme .subjects-grid.ks4-grid[data-v-c25b9d2a]{grid-template-columns:repeat(2,minmax(190px,1fr))}}@media (max-width: 620px){.vespa-section.ks4-theme .subjects-grid.ks4-grid[data-v-c25b9d2a]{grid-template-columns:1fr}}.vespa-section-title[data-v-c25b9d2a]{color:#00e5db!important;font-size:22px;font-weight:600;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid #079baa;display:flex;align-items:center;justify-content:space-between}.profile-actions[data-v-c25b9d2a]{display:inline-flex;gap:10px;align-items:center}.small-toggle[data-v-c25b9d2a]{background:rgba(255,255,255,.12);color:#fff;border:1px solid rgba(255,255,255,.25);border-radius:999px;padding:6px 10px;font-size:12px;cursor:pointer;transition:all .2s ease}.small-toggle[data-v-c25b9d2a]:hover{background:rgba(255,255,255,.18)}.profile-info-button[data-v-c25b9d2a]{font-size:16px;color:#00e5db;cursor:pointer;border:1px solid #00e5db;border-radius:50%;width:22px;height:22px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;margin-left:10px;transition:all .3s}.profile-info-button[data-v-c25b9d2a]:hover{background-color:#00e5db;color:#23356f}.master-edit-icon[data-v-c25b9d2a]{cursor:pointer;font-size:.7em;padding:6px 12px;border-radius:4px;border:1px solid transparent;transition:all .3s}.master-edit-icon.edit-icon[data-v-c25b9d2a]{color:#00e5db;border-color:#00e5db}.master-edit-icon.save-icon[data-v-c25b9d2a]{color:#4caf50;border-color:#4caf50}.master-edit-icon[data-v-c25b9d2a]:hover{background-color:#ffffff1a}.profile-info[data-v-c25b9d2a]{display:flex;flex-wrap:wrap;gap:16px;align-items:stretch}.profile-details[data-v-c25b9d2a]{flex:1;min-width:200px;min-height:170px;background-color:#334285;border-radius:8px;border:1px solid rgba(7,155,170,.3);padding:16px}.profile-name[data-v-c25b9d2a]{font-size:22px;color:#00e5db;margin-bottom:12px;font-weight:700;padding-bottom:8px;border-bottom:1px solid rgba(7,155,170,.3)}.profile-item[data-v-c25b9d2a]{margin-bottom:8px;padding:6px 8px;border-radius:4px;transition:background-color .2s}.profile-item[data-v-c25b9d2a]:hover{background-color:#ffffff0d}.profile-label[data-v-c25b9d2a]{font-weight:600;color:#00e5db;margin-right:8px}.profile-value[data-v-c25b9d2a]{color:#f0f0f0}.subjects-container[data-v-c25b9d2a]{flex:2;min-width:280px;min-height:170px;display:flex;flex-direction:column;gap:12px}.subjects-grid[data-v-c25b9d2a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;width:100%;align-items:stretch;grid-auto-rows:1fr}@media (max-width: 768px){.subjects-grid[data-v-c25b9d2a]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}}@media (max-width: 400px){.subjects-grid[data-v-c25b9d2a]{grid-template-columns:1fr;gap:10px}}.no-subjects[data-v-c25b9d2a]{padding:20px;text-align:center;color:#ccc;font-style:italic}.university-offers[data-v-c25b9d2a]{position:relative;padding:16px;border-radius:12px;background:linear-gradient(135deg,#231c58 0%,#2f2672 100%);border:1px solid rgba(62,50,133,.65);box-shadow:inset 0 0 0 1px #ffffff0a;overflow:hidden}.university-offers[data-v-c25b9d2a]:after{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,#3E3285,#6B5DD6);opacity:.9}.university-offers[data-v-c25b9d2a]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(420px circle at 6% -20%,rgba(62,50,133,.45),transparent 55%);opacity:.5;pointer-events:none}.university-offers-header[data-v-c25b9d2a]{display:flex;align-items:center;justify-content:space-between;gap:10px}.university-offers-title[data-v-c25b9d2a]{font-weight:900;font-size:16px;letter-spacing:.3px;color:#fff;padding:6px 10px;border-radius:10px;border:1px solid rgba(62,50,133,.78);background:linear-gradient(135deg,rgba(62,50,133,.35),rgba(0,0,0,.25));box-shadow:0 6px 16px #00000040}.university-offers-actions[data-v-c25b9d2a]{display:flex;align-items:center;gap:8px}.offers-ucasapp-btn[data-v-c25b9d2a],.offers-edit-btn[data-v-c25b9d2a],.offers-toggle-btn[data-v-c25b9d2a],.offers-add-btn[data-v-c25b9d2a]{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:#fff;padding:6px 10px;border-radius:8px;font-weight:700;font-size:12px;cursor:pointer}.offers-ucasapp-btn[data-v-c25b9d2a]{background:rgba(62,50,133,.35);border-color:#3e3285b3}.offers-ucasapp-btn[data-v-c25b9d2a]:disabled{opacity:.55;cursor:not-allowed}.offers-toggle-btn[data-v-c25b9d2a]:disabled{opacity:.55;cursor:not-allowed}.offers-chevron[data-v-c25b9d2a]{display:inline-block;margin-right:6px;transition:transform .18s ease}.offers-chevron.open[data-v-c25b9d2a]{transform:rotate(180deg)}.offers-ucasapp-btn[data-v-c25b9d2a]:hover,.offers-edit-btn[data-v-c25b9d2a]:hover,.offers-toggle-btn[data-v-c25b9d2a]:hover,.offers-add-btn[data-v-c25b9d2a]:hover{background:rgba(255,255,255,.1)}.university-offers-top[data-v-c25b9d2a],.offer-item[data-v-c25b9d2a]{margin-top:10px;padding:12px;border-radius:12px;background:linear-gradient(145deg,#241f55,#2c2470);border:1px solid rgba(62,50,133,.35);box-shadow:0 6px 16px #00000040}.offer-top-toggle[data-v-c25b9d2a]{width:100%;text-align:left;cursor:pointer}.offer-top-toggle[data-v-c25b9d2a]:focus{outline:2px solid rgba(62,50,133,.75);outline-offset:2px}.offer-line[data-v-c25b9d2a]{display:flex;align-items:baseline;gap:8px;flex-wrap:wrap}.offer-rank[data-v-c25b9d2a]{display:inline-flex;align-items:center;justify-content:center;min-width:34px;padding:2px 8px;border-radius:999px;background:rgba(62,50,133,.25);border:1px solid rgba(62,50,133,.78);font-weight:900;color:#efeaff}.offer-uni[data-v-c25b9d2a]{font-weight:950;font-size:17px;color:#fff}.offer-course[data-v-c25b9d2a]{color:#fffffff2;font-weight:600}.offer-meta[data-v-c25b9d2a]{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}.offer-pill[data-v-c25b9d2a]{background:rgba(0,0,0,.75);border:1px solid rgba(62,50,133,.55);border-radius:999px;padding:4px 8px;font-size:12px;font-weight:700;color:#fff;text-shadow:0 1px 0 rgba(0,0,0,.4)}.offer-link-btn[data-v-c25b9d2a]{text-decoration:none;background:rgba(62,50,133,.25);border:1px solid rgba(62,50,133,.7);border-radius:999px;padding:4px 10px;font-size:12px;font-weight:800;color:#fff}.offer-link-btn[data-v-c25b9d2a]:hover{background:rgba(62,50,133,.35)}.university-offers-empty[data-v-c25b9d2a]{margin-top:10px;display:flex;align-items:center;gap:10px;flex-wrap:wrap;color:#ffffffd9;font-weight:600}.university-offers-list[data-v-c25b9d2a]{margin-top:10px;display:grid;gap:10px}.offer-expand-hint[data-v-c25b9d2a]{margin-top:8px;display:flex;align-items:center;gap:6px;color:#ffffffd9;font-size:12px;font-weight:700}.offers-modal-overlay[data-v-c25b9d2a]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;padding:18px;z-index:10001}.offers-modal[data-v-c25b9d2a]{width:100%;max-width:980px;background:#14224a;border:2px solid rgba(7,155,170,.6);border-radius:12px;box-shadow:0 12px 40px #0009;overflow:hidden}.offers-modal-header[data-v-c25b9d2a]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:linear-gradient(135deg,#2a3c7a 0%,#079baa 100%);color:#fff}.offers-modal-title[data-v-c25b9d2a]{font-weight:900;letter-spacing:.2px}.offers-ucas-link[data-v-c25b9d2a]{margin-left:auto;margin-right:10px;text-decoration:none;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.1);color:#fff;padding:8px 10px;border-radius:10px;font-weight:800;font-size:12px}.offers-ucas-link[data-v-c25b9d2a]:hover{background:rgba(255,255,255,.16)}.offers-modal-close[data-v-c25b9d2a]{border:none;background:transparent;color:#fff;font-size:18px;cursor:pointer}.offers-modal-body[data-v-c25b9d2a]{padding:14px 16px}.offers-help[data-v-c25b9d2a]{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:10px 12px;font-size:13px;color:#ffffffeb}.offers-grid[data-v-c25b9d2a]{margin-top:12px;display:grid;grid-template-columns:90px 1.1fr 1.2fr 1.2fr 160px 110px 48px;gap:8px;align-items:center}.offers-grid-head[data-v-c25b9d2a]{font-weight:900;font-size:12px;color:#ffffffd9}.offers-input[data-v-c25b9d2a]{width:100%;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);color:#fff;font-weight:600;box-sizing:border-box}.offers-remove[data-v-c25b9d2a]{width:40px;height:34px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);cursor:pointer}.offers-modal-actions[data-v-c25b9d2a]{margin-top:12px}.offers-modal-footer[data-v-c25b9d2a]{display:flex;align-items:center;justify-content:flex-end;gap:10px;padding:12px 16px;background:rgba(0,0,0,.18);border-top:1px solid rgba(255,255,255,.1)}.offers-secondary[data-v-c25b9d2a],.offers-primary[data-v-c25b9d2a]{border:1px solid rgba(255,255,255,.18);border-radius:10px;padding:10px 12px;font-weight:800;cursor:pointer}.offers-secondary[data-v-c25b9d2a]{background:rgba(255,255,255,.06);color:#fff}.offers-primary[data-v-c25b9d2a]{background:rgba(7,155,170,.85);color:#072b33;border-color:#079baae6}.offers-primary[data-v-c25b9d2a]:disabled{opacity:.6;cursor:not-allowed}.data-source-dot[data-v-c25b9d2a]{position:absolute;top:8px;right:8px;width:8px;height:8px;border-radius:50%;cursor:help;z-index:10}.data-source-dot.live-source[data-v-c25b9d2a]{background:#4caf50;box-shadow:0 0 4px #4caf5099}.data-source-dot.fallback-source[data-v-c25b9d2a]{background:#ff9800;box-shadow:0 0 4px #ff980099}.saving-overlay[data-v-c25b9d2a]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10000}.saving-overlay p[data-v-c25b9d2a]{color:#fff;font-size:18px;margin-top:20px}@media (max-width: 768px){.profile-info[data-v-c25b9d2a]{flex-direction:column}.subjects-grid[data-v-c25b9d2a]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}}@media (max-width: 400px){.subjects-grid[data-v-c25b9d2a]{grid-template-columns:1fr}}.academic-profile-container{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;max-width:1400px!important;width:100%;margin:20px auto;padding:0 20px;color:#fff;box-sizing:border-box}.profile-toggle-bar{margin-bottom:12px;margin-top:20px}.toggle-button{display:flex;align-items:center;gap:8px;padding:12px 20px;background:linear-gradient(135deg,#079baa,#7bd8d0);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #079baa4d}.toggle-button:hover{background:linear-gradient(135deg,#067a87,#62d1d2);transform:translateY(-2px);box-shadow:0 4px 12px #079baa66}.toggle-button.collapsed{background:#f5f5f5;color:#079baa;border:2px solid #079baa}.toggle-button.collapsed:hover{background:#e8f5f5}.toggle-icon{font-size:12px;transition:transform .3s ease}.toggle-text{font-weight:600}.profile-wrapper{transition:all .3s ease}.profile-loading,.profile-error,.profile-empty{background:linear-gradient(135deg,#2a3c7a 0%,#23356f 100%);border:2px solid #079baa;border-radius:10px;padding:40px;text-align:center;color:#fff}.spinner{width:50px;height:50px;border:4px solid rgba(7,155,170,.3);border-top-color:#00e5db;border-radius:50%;margin:0 auto 20px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.retry-btn{background-color:#00e5db;color:#23356f;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-weight:600;margin-top:15px;transition:all .3s}.retry-btn:hover{background-color:#00c5c0;transform:translateY(-2px)}\n',document.head.appendChild(e);const a={},n=[],r=()=>{},o=()=>!1,s=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),i=e=>e.startsWith("onUpdate:"),l=Object.assign,c=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},d=Object.prototype.hasOwnProperty,u=(e,t)=>d.call(e,t),f=Array.isArray,p=e=>"[object Map]"===w(e),v=e=>"[object Set]"===w(e),g=e=>"[object Date]"===w(e),m=e=>"function"==typeof e,h=e=>"string"==typeof e,b=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,x=e=>(y(e)||m(e))&&m(e.then)&&m(e.catch),k=Object.prototype.toString,w=e=>k.call(e),_=e=>"[object Object]"===w(e),S=e=>h(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,j=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},A=/-\w/g,P=C(e=>e.replace(A,e=>e.slice(1).toUpperCase())),T=/\B([A-Z])/g,E=C(e=>e.replace(T,"-$1").toLowerCase()),U=C(e=>e.charAt(0).toUpperCase()+e.slice(1)),O=C(e=>e?`on${U(e)}`:""),M=(e,t)=>!Object.is(e,t),I=(e,...t)=>{for(let a=0;a<e.length;a++)e[a](...t)},N=(e,t,a,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:a})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let q;const D=()=>q||(q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function F(e){if(f(e)){const t={};for(let a=0;a<e.length;a++){const n=e[a],r=h(n)?$(n):F(n);if(r)for(const e in r)t[e]=r[e]}return t}if(h(e)||y(e))return e}const R=/;(?![^(]*\))/g,L=/:([^]+)/,V=/\/\*[^]*?\*\//g;function $(e){const t={};return e.replace(V,"").split(R).forEach(e=>{if(e){const a=e.split(L);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function z(e){let t="";if(h(e))t=e;else if(f(e))for(let a=0;a<e.length;a++){const n=z(e[a]);n&&(t+=n+" ")}else if(y(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const B=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function K(e){return!!e||""===e}function W(e,t){if(e===t)return!0;let a=g(e),n=g(t);if(a||n)return!(!a||!n)&&e.getTime()===t.getTime();if(a=b(e),n=b(t),a||n)return e===t;if(a=f(e),n=f(t),a||n)return!(!a||!n)&&function(e,t){if(e.length!==t.length)return!1;let a=!0;for(let n=0;a&&n<e.length;n++)a=W(e[n],t[n]);return a}(e,t);if(a=y(e),n=y(t),a||n){if(!a||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e){const n=e.hasOwnProperty(a),r=t.hasOwnProperty(a);if(n&&!r||!n&&r||!W(e[a],t[a]))return!1}}return String(e)===String(t)}function H(e,t){return e.findIndex(e=>W(e,t))}const Y=e=>!(!e||!0!==e.__v_isRef),J=e=>h(e)?e:null==e?"":f(e)||y(e)&&(e.toString===k||!m(e.toString))?Y(e)?J(e.value):JSON.stringify(e,X,2):String(e),X=(e,t)=>Y(t)?X(e,t.value):p(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,a],n)=>(e[Z(t,n)+" =>"]=a,e),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Z(e))}:b(t)?Z(t):!y(t)||f(t)||_(t)?t:String(t),Z=(e,t="")=>{var a;return b(e)?`Symbol(${null!=(a=e.description)?a:t})`:e};
/**
  * @vue/reactivity v3.5.24
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/
let Q,ee;class te{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Q,!e&&Q&&(this.index=(Q.scopes||(Q.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Q;try{return Q=this,e()}finally{Q=t}}}on(){1===++this._on&&(this.prevScope=Q,Q=this)}off(){this._on>0&&0===--this._on&&(Q=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,a;for(this._active=!1,t=0,a=this.effects.length;t<a;t++)this.effects[t].stop();for(this.effects.length=0,t=0,a=this.cleanups.length;t<a;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const ae=new WeakSet;class ne{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Q&&Q.active&&Q.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ae.has(this)&&(ae.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ie(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,xe(this),de(this);const e=ee,t=me;ee=this,me=!0;try{return this.fn()}finally{ue(this),ee=e,me=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)ve(e);this.deps=this.depsTail=void 0,xe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ae.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fe(this)&&this.run()}get dirty(){return fe(this)}}let re,oe,se=0;function ie(e,t=!1){if(e.flags|=8,t)return e.next=oe,void(oe=e);e.next=re,re=e}function le(){se++}function ce(){if(--se>0)return;if(oe){let e=oe;for(oe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;re;){let a=re;for(re=void 0;a;){const n=a.next;if(a.next=void 0,a.flags&=-9,1&a.flags)try{a.trigger()}catch(t){e||(e=t)}a=n}}if(e)throw e}function de(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ue(e){let t,a=e.depsTail,n=a;for(;n;){const e=n.prevDep;-1===n.version?(n===a&&(a=e),ve(n),ge(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=e}e.deps=t,e.depsTail=a}function fe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===ke)return;if(e.globalVersion=ke,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!fe(e)))return;e.flags|=2;const t=e.dep,a=ee,n=me;ee=e,me=!0;try{de(e);const a=e.fn(e._value);(0===t.version||M(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(r){throw t.version++,r}finally{ee=a,me=n,ue(e),e.flags&=-3}}function ve(e,t=!1){const{dep:a,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),a.subs===e&&(a.subs=n,!n&&a.computed)){a.computed.flags&=-5;for(let e=a.computed.deps;e;e=e.nextDep)ve(e,!0)}t||--a.sc||!a.map||a.map.delete(a.key)}function ge(e){const{prevDep:t,nextDep:a}=e;t&&(t.nextDep=a,e.prevDep=void 0),a&&(a.prevDep=t,e.nextDep=void 0)}let me=!0;const he=[];function be(){he.push(me),me=!1}function ye(){const e=he.pop();me=void 0===e||e}function xe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=ee;ee=void 0;try{t()}finally{ee=e}}}let ke=0;class we{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _e{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ee||!me||ee===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==ee)t=this.activeLink=new we(ee,this),ee.deps?(t.prevDep=ee.depsTail,ee.depsTail.nextDep=t,ee.depsTail=t):ee.deps=ee.depsTail=t,Se(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=ee.depsTail,t.nextDep=void 0,ee.depsTail.nextDep=t,ee.depsTail=t,ee.deps===t&&(ee.deps=e)}return t}trigger(e){this.version++,ke++,this.notify(e)}notify(e){le();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ce()}}}function Se(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Se(e)}const a=e.dep.subs;a!==e&&(e.prevSub=a,a&&(a.nextSub=e)),e.dep.subs=e}}const je=new WeakMap,Ce=Symbol(""),Ae=Symbol(""),Pe=Symbol("");function Te(e,t,a){if(me&&ee){let t=je.get(e);t||je.set(e,t=new Map);let n=t.get(a);n||(t.set(a,n=new _e),n.map=t,n.key=a),n.track()}}function Ee(e,t,a,n,r,o){const s=je.get(e);if(!s)return void ke++;const i=e=>{e&&e.trigger()};if(le(),"clear"===t)s.forEach(i);else{const r=f(e),o=r&&S(a);if(r&&"length"===a){const e=Number(n);s.forEach((t,a)=>{("length"===a||a===Pe||!b(a)&&a>=e)&&i(t)})}else switch((void 0!==a||s.has(void 0))&&i(s.get(a)),o&&i(s.get(Pe)),t){case"add":r?o&&i(s.get("length")):(i(s.get(Ce)),p(e)&&i(s.get(Ae)));break;case"delete":r||(i(s.get(Ce)),p(e)&&i(s.get(Ae)));break;case"set":p(e)&&i(s.get(Ce))}}ce()}function Ue(e){const t=gt(e);return t===e?t:(Te(t,0,Pe),pt(e)?t:t.map(mt))}function Oe(e){return Te(e=gt(e),0,Pe),e}const Me={__proto__:null,[Symbol.iterator](){return Ie(this,Symbol.iterator,mt)},concat(...e){return Ue(this).concat(...e.map(e=>f(e)?Ue(e):e))},entries(){return Ie(this,"entries",e=>(e[1]=mt(e[1]),e))},every(e,t){return Ge(this,"every",e,t,void 0,arguments)},filter(e,t){return Ge(this,"filter",e,t,e=>e.map(mt),arguments)},find(e,t){return Ge(this,"find",e,t,mt,arguments)},findIndex(e,t){return Ge(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ge(this,"findLast",e,t,mt,arguments)},findLastIndex(e,t){return Ge(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ge(this,"forEach",e,t,void 0,arguments)},includes(...e){return De(this,"includes",e)},indexOf(...e){return De(this,"indexOf",e)},join(e){return Ue(this).join(e)},lastIndexOf(...e){return De(this,"lastIndexOf",e)},map(e,t){return Ge(this,"map",e,t,void 0,arguments)},pop(){return Fe(this,"pop")},push(...e){return Fe(this,"push",e)},reduce(e,...t){return qe(this,"reduce",e,t)},reduceRight(e,...t){return qe(this,"reduceRight",e,t)},shift(){return Fe(this,"shift")},some(e,t){return Ge(this,"some",e,t,void 0,arguments)},splice(...e){return Fe(this,"splice",e)},toReversed(){return Ue(this).toReversed()},toSorted(e){return Ue(this).toSorted(e)},toSpliced(...e){return Ue(this).toSpliced(...e)},unshift(...e){return Fe(this,"unshift",e)},values(){return Ie(this,"values",mt)}};function Ie(e,t,a){const n=Oe(e),r=n[t]();return n===e||pt(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.done||(e.value=a(e.value)),e}),r}const Ne=Array.prototype;function Ge(e,t,a,n,r,o){const s=Oe(e),i=s!==e&&!pt(e),l=s[t];if(l!==Ne[t]){const t=l.apply(e,o);return i?mt(t):t}let c=a;s!==e&&(i?c=function(t,n){return a.call(this,mt(t),n,e)}:a.length>2&&(c=function(t,n){return a.call(this,t,n,e)}));const d=l.call(s,c,n);return i&&r?r(d):d}function qe(e,t,a,n){const r=Oe(e);let o=a;return r!==e&&(pt(e)?a.length>3&&(o=function(t,n,r){return a.call(this,t,n,r,e)}):o=function(t,n,r){return a.call(this,t,mt(n),r,e)}),r[t](o,...n)}function De(e,t,a){const n=gt(e);Te(n,0,Pe);const r=n[t](...a);return-1!==r&&!1!==r||!vt(a[0])?r:(a[0]=gt(a[0]),n[t](...a))}function Fe(e,t,a=[]){be(),le();const n=gt(e)[t].apply(e,a);return ce(),ye(),n}const Re=t("__proto__,__v_isRef,__isVue"),Le=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(b));function Ve(e){b(e)||(e=String(e));const t=gt(this);return Te(t,0,e),t.hasOwnProperty(e)}class $e{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,a){if("__v_skip"===t)return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return r;if("__v_raw"===t)return a===(n?r?st:ot:r?rt:nt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const o=f(e);if(!n){let e;if(o&&(e=Me[t]))return e;if("hasOwnProperty"===t)return Ve}const s=Reflect.get(e,t,bt(e)?e:a);if(b(t)?Le.has(t):Re(t))return s;if(n||Te(e,0,t),r)return s;if(bt(s)){const e=o&&S(t)?s:s.value;return n&&y(e)?ct(e):e}return y(s)?n?ct(s):lt(s):s}}class ze extends $e{constructor(e=!1){super(!1,e)}set(e,t,a,n){let r=e[t];if(!this._isShallow){const t=ft(r);if(pt(a)||ft(a)||(r=gt(r),a=gt(a)),!f(e)&&bt(r)&&!bt(a))return t||(r.value=a),!0}const o=f(e)&&S(t)?Number(t)<e.length:u(e,t),s=Reflect.set(e,t,a,bt(e)?e:n);return e===gt(n)&&(o?M(a,r)&&Ee(e,"set",t,a):Ee(e,"add",t,a)),s}deleteProperty(e,t){const a=u(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&a&&Ee(e,"delete",t,void 0),n}has(e,t){const a=Reflect.has(e,t);return b(t)&&Le.has(t)||Te(e,0,t),a}ownKeys(e){return Te(e,0,f(e)?"length":Ce),Reflect.ownKeys(e)}}class Be extends $e{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Ke=new ze,We=new Be,He=new ze(!0),Ye=e=>e,Je=e=>Reflect.getPrototypeOf(e);function Xe(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ze(e,t){const a={get(a){const n=this.__v_raw,r=gt(n),o=gt(a);e||(M(a,o)&&Te(r,0,a),Te(r,0,o));const{has:s}=Je(r),i=t?Ye:e?ht:mt;return s.call(r,a)?i(n.get(a)):s.call(r,o)?i(n.get(o)):void(n!==r&&n.get(a))},get size(){const t=this.__v_raw;return!e&&Te(gt(t),0,Ce),t.size},has(t){const a=this.__v_raw,n=gt(a),r=gt(t);return e||(M(t,r)&&Te(n,0,t),Te(n,0,r)),t===r?a.has(t):a.has(t)||a.has(r)},forEach(a,n){const r=this,o=r.__v_raw,s=gt(o),i=t?Ye:e?ht:mt;return!e&&Te(s,0,Ce),o.forEach((e,t)=>a.call(n,i(e),i(t),r))}};l(a,e?{add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear")}:{add(e){t||pt(e)||ft(e)||(e=gt(e));const a=gt(this);return Je(a).has.call(a,e)||(a.add(e),Ee(a,"add",e,e)),this},set(e,a){t||pt(a)||ft(a)||(a=gt(a));const n=gt(this),{has:r,get:o}=Je(n);let s=r.call(n,e);s||(e=gt(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,a),s?M(a,i)&&Ee(n,"set",e,a):Ee(n,"add",e,a),this},delete(e){const t=gt(this),{has:a,get:n}=Je(t);let r=a.call(t,e);r||(e=gt(e),r=a.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return r&&Ee(t,"delete",e,void 0),o},clear(){const e=gt(this),t=0!==e.size,a=e.clear();return t&&Ee(e,"clear",void 0,void 0),a}});return["keys","values","entries",Symbol.iterator].forEach(n=>{a[n]=function(e,t,a){return function(...n){const r=this.__v_raw,o=gt(r),s=p(o),i="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=r[e](...n),d=a?Ye:t?ht:mt;return!t&&Te(o,0,l?Ae:Ce),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:i?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}(n,e,t)}),a}function Qe(e,t){const a=Ze(e,t);return(t,n,r)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(u(a,n)&&n in t?a:t,n,r)}const et={get:Qe(!1,!1)},tt={get:Qe(!1,!0)},at={get:Qe(!0,!1)},nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,st=new WeakMap;function it(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>w(e).slice(8,-1))(e))}function lt(e){return ft(e)?e:dt(e,!1,Ke,et,nt)}function ct(e){return dt(e,!0,We,at,ot)}function dt(e,t,a,n,r){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=it(e);if(0===o)return e;const s=r.get(e);if(s)return s;const i=new Proxy(e,2===o?n:a);return r.set(e,i),i}function ut(e){return ft(e)?ut(e.__v_raw):!(!e||!e.__v_isReactive)}function ft(e){return!(!e||!e.__v_isReadonly)}function pt(e){return!(!e||!e.__v_isShallow)}function vt(e){return!!e&&!!e.__v_raw}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}const mt=e=>y(e)?lt(e):e,ht=e=>y(e)?ct(e):e;function bt(e){return!!e&&!0===e.__v_isRef}function yt(e){return function(e,t){if(bt(e))return e;return new xt(e,t)}(e,!1)}class xt{constructor(e,t){this.dep=new _e,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:gt(e),this._value=t?e:mt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,a=this.__v_isShallow||pt(e)||ft(e);e=a?e:gt(e),M(e,t)&&(this._rawValue=e,this._value=a?e:mt(e),this.dep.trigger())}}function kt(e){return bt(e)?e.value:e}const wt={get:(e,t,a)=>"__v_raw"===t?e:kt(Reflect.get(e,t,a)),set:(e,t,a,n)=>{const r=e[t];return bt(r)&&!bt(a)?(r.value=a,!0):Reflect.set(e,t,a,n)}};function _t(e){return ut(e)?e:new Proxy(e,wt)}class St{constructor(e,t,a){this.fn=e,this.setter=t,this._value=void 0,this.dep=new _e(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ke-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=a}notify(){if(this.flags|=16,!(8&this.flags)&&ee!==this)return ie(this,!0),!0}get value(){const e=this.dep.track();return pe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const jt={},Ct=new WeakMap;let At;function Pt(e,t,n=a){const{immediate:o,deep:s,once:i,scheduler:l,augmentJob:d,call:u}=n,p=e=>s?e:pt(e)||!1===s||0===s?Tt(e,1):Tt(e);let v,g,h,b,y=!1,x=!1;if(bt(e)?(g=()=>e.value,y=pt(e)):ut(e)?(g=()=>p(e),y=!0):f(e)?(x=!0,y=e.some(e=>ut(e)||pt(e)),g=()=>e.map(e=>bt(e)?e.value:ut(e)?p(e):m(e)?u?u(e,2):e():void 0)):g=m(e)?t?u?()=>u(e,2):e:()=>{if(h){be();try{h()}finally{ye()}}const t=At;At=v;try{return u?u(e,3,[b]):e(b)}finally{At=t}}:r,t&&s){const e=g,t=!0===s?1/0:s;g=()=>Tt(e(),t)}const k=Q,w=()=>{v.stop(),k&&k.active&&c(k.effects,v)};if(i&&t){const e=t;t=(...t)=>{e(...t),w()}}let _=x?new Array(e.length).fill(jt):jt;const S=e=>{if(1&v.flags&&(v.dirty||e))if(t){const e=v.run();if(s||y||(x?e.some((e,t)=>M(e,_[t])):M(e,_))){h&&h();const a=At;At=v;try{const a=[e,_===jt?void 0:x&&_[0]===jt?[]:_,b];_=e,u?u(t,3,a):t(...a)}finally{At=a}}}else v.run()};return d&&d(S),v=new ne(g),v.scheduler=l?()=>l(S,!1):S,b=e=>function(e,t=!1,a=At){if(a){let t=Ct.get(a);t||Ct.set(a,t=[]),t.push(e)}}(e,!1,v),h=v.onStop=()=>{const e=Ct.get(v);if(e){if(u)u(e,4);else for(const t of e)t();Ct.delete(v)}},t?o?S(!0):_=v.run():l?l(S.bind(null,!0),!0):v.run(),w.pause=v.pause.bind(v),w.resume=v.resume.bind(v),w.stop=w,w}function Tt(e,t=1/0,a){if(t<=0||!y(e)||e.__v_skip)return e;if(((a=a||new Map).get(e)||0)>=t)return e;if(a.set(e,t),t--,bt(e))Tt(e.value,t,a);else if(f(e))for(let n=0;n<e.length;n++)Tt(e[n],t,a);else if(v(e)||p(e))e.forEach(e=>{Tt(e,t,a)});else if(_(e)){for(const n in e)Tt(e[n],t,a);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Tt(e[n],t,a)}return e}
/**
  * @vue/runtime-core v3.5.24
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/function Et(e,t,a,n){try{return n?e(...n):e()}catch(r){Ot(r,t,a)}}function Ut(e,t,a,n){if(m(e)){const r=Et(e,t,a,n);return r&&x(r)&&r.catch(e=>{Ot(e,t,a)}),r}if(f(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Ut(e[o],t,a,n));return r}}function Ot(e,t,n,r=!0){t&&t.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||a;if(t){let a=t.parent;const r=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const t=a.ec;if(t)for(let a=0;a<t.length;a++)if(!1===t[a](e,r,s))return;a=a.parent}if(o)return be(),Et(o,null,10,[e,r,s]),void ye()}!function(e,t,a,n=!0,r=!1){if(r)throw e;console.error(e)}(e,0,0,r,s)}const Mt=[];let It=-1;const Nt=[];let Gt=null,qt=0;const Dt=Promise.resolve();let Ft=null;function Rt(e){const t=Ft||Dt;return e?t.then(this?e.bind(this):e):t}function Lt(e){if(!(1&e.flags)){const t=Bt(e),a=Mt[Mt.length-1];!a||!(2&e.flags)&&t>=Bt(a)?Mt.push(e):Mt.splice(function(e){let t=It+1,a=Mt.length;for(;t<a;){const n=t+a>>>1,r=Mt[n],o=Bt(r);o<e||o===e&&2&r.flags?t=n+1:a=n}return t}(t),0,e),e.flags|=1,Vt()}}function Vt(){Ft||(Ft=Dt.then(Kt))}function $t(e,t,a=It+1){for(;a<Mt.length;a++){const t=Mt[a];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Mt.splice(a,1),a--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function zt(e){if(Nt.length){const e=[...new Set(Nt)].sort((e,t)=>Bt(e)-Bt(t));if(Nt.length=0,Gt)return void Gt.push(...e);for(Gt=e,qt=0;qt<Gt.length;qt++){const e=Gt[qt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Gt=null,qt=0}}const Bt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Kt(e){try{for(It=0;It<Mt.length;It++){const e=Mt[It];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Et(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;It<Mt.length;It++){const e=Mt[It];e&&(e.flags&=-2)}It=-1,Mt.length=0,zt(),Ft=null,(Mt.length||Nt.length)&&Kt()}}let Wt=null,Ht=null;function Yt(e){const t=Wt;return Wt=e,Ht=e&&e.type.__scopeId||null,t}function Jt(e,t){if(null===Wt)return e;const n=br(Wt),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,s,i,l=a]=t[o];e&&(m(e)&&(e={mounted:e,updated:e}),e.deep&&Tt(s),r.push({dir:e,instance:n,value:s,oldValue:void 0,arg:i,modifiers:l}))}return e}function Xt(e,t,a,n){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const i=r[s];o&&(i.oldValue=o[s].value);let l=i.dir[n];l&&(be(),Ut(l,a,8,[e.el,i,e,t]),ye())}}const Zt=Symbol("_vte"),Qt=Symbol("_leaveCb");function ea(e,t){6&e.shapeFlag&&e.component?(e.transition=t,ea(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ta(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const aa=new WeakMap;function na(e,t,n,r,s=!1){if(f(e))return void e.forEach((e,a)=>na(e,t&&(f(t)?t[a]:t),n,r,s));if(oa(r)&&!s)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&na(e,t,n,r.component.subTree));const i=4&r.shapeFlag?br(r.component):r.el,l=s?null:i,{i:d,r:p}=e,v=t&&t.r,g=d.refs===a?d.refs={}:d.refs,b=d.setupState,y=gt(b),x=b===a?o:e=>u(y,e);if(null!=v&&v!==p)if(ra(t),h(v))g[v]=null,x(v)&&(b[v]=null);else if(bt(v)){v.value=null;const e=t;e.k&&(g[e.k]=null)}if(m(p))Et(p,d,12,[l,g]);else{const t=h(p),a=bt(p);if(t||a){const r=()=>{if(e.f){const a=t?x(p)?b[p]:g[p]:p.value;if(s)f(a)&&c(a,i);else if(f(a))a.includes(i)||a.push(i);else if(t)g[p]=[i],x(p)&&(b[p]=g[p]);else{const t=[i];p.value=t,e.k&&(g[e.k]=t)}}else t?(g[p]=l,x(p)&&(b[p]=l)):a&&(p.value=l,e.k&&(g[e.k]=l))};if(l){const t=()=>{r(),aa.delete(e)};t.id=-1,aa.set(e,t),cn(t,n)}else ra(e),r()}}}function ra(e){const t=aa.get(e);t&&(t.flags|=8,aa.delete(e))}D().requestIdleCallback,D().cancelIdleCallback;const oa=e=>!!e.type.__asyncLoader,sa=e=>e.type.__isKeepAlive;function ia(e,t){ca(e,"a",t)}function la(e,t){ca(e,"da",t)}function ca(e,t,a=sr){const n=e.__wdc||(e.__wdc=()=>{let t=a;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ua(t,n,a),a){let e=a.parent;for(;e&&e.parent;)sa(e.parent.vnode)&&da(n,t,a,e),e=e.parent}}function da(e,t,a,n){const r=ua(t,e,n,!0);ba(()=>{c(n[t],r)},a)}function ua(e,t,a=sr,n=!1){if(a){const r=a[e]||(a[e]=[]),o=t.__weh||(t.__weh=(...n)=>{be();const r=dr(a),o=Ut(t,a,e,n);return r(),ye(),o});return n?r.unshift(o):r.push(o),o}}const fa=e=>(t,a=sr)=>{vr&&"sp"!==e||ua(e,(...e)=>t(...e),a)},pa=fa("bm"),va=fa("m"),ga=fa("bu"),ma=fa("u"),ha=fa("bum"),ba=fa("um"),ya=fa("sp"),xa=fa("rtg"),ka=fa("rtc");function wa(e,t=sr){ua("ec",e,t)}const _a=Symbol.for("v-ndc");function Sa(e,t,a,n){let r;const o=a&&a[n],s=f(e);if(s||h(e)){let a=!1,n=!1;s&&ut(e)&&(a=!pt(e),n=ft(e),e=Oe(e)),r=new Array(e.length);for(let s=0,i=e.length;s<i;s++)r[s]=t(a?n?ht(mt(e[s])):mt(e[s]):e[s],s,void 0,o&&o[s])}else if("number"==typeof e){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o&&o[a])}else if(y(e))if(e[Symbol.iterator])r=Array.from(e,(e,a)=>t(e,a,void 0,o&&o[a]));else{const a=Object.keys(e);r=new Array(a.length);for(let n=0,s=a.length;n<s;n++){const s=a[n];r[n]=t(e[s],s,n,o&&o[n])}}else r=[];return a&&(a[n]=r),r}const ja=e=>e?fr(e)?br(e):ja(e.parent):null,Ca=l(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ja(e.parent),$root:e=>ja(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ia(e),$forceUpdate:e=>e.f||(e.f=()=>{Lt(e.update)}),$nextTick:e=>e.n||(e.n=Rt.bind(e.proxy)),$watch:e=>xn.bind(e)}),Aa=(e,t)=>e!==a&&!e.__isScriptSetup&&u(e,t),Pa={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:l,appContext:c}=e;let d;if("$"!==t[0]){const l=i[t];if(void 0!==l)switch(l){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Aa(r,t))return i[t]=1,r[t];if(o!==a&&u(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&u(d,t))return i[t]=3,s[t];if(n!==a&&u(n,t))return i[t]=4,n[t];Ea&&(i[t]=0)}}const f=Ca[t];let p,v;return f?("$attrs"===t&&Te(e.attrs,0,""),f(e)):(p=l.__cssModules)&&(p=p[t])?p:n!==a&&u(n,t)?(i[t]=4,n[t]):(v=c.config.globalProperties,u(v,t)?v[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Aa(o,t)?(o[t]=n,!0):r!==a&&u(r,t)?(r[t]=n,!0):!u(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s,type:i}},l){let c,d;return!!(n[l]||e!==a&&"$"!==l[0]&&u(e,l)||Aa(t,l)||(c=s[0])&&u(c,l)||u(r,l)||u(Ca,l)||u(o.config.globalProperties,l)||(d=i.__cssModules)&&d[l])},defineProperty(e,t,a){return null!=a.get?e._.accessCache[t]=0:u(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};function Ta(e){return f(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Ea=!0;function Ua(e){const t=Ia(e),a=e.proxy,n=e.ctx;Ea=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:p,mounted:v,beforeUpdate:g,updated:h,activated:b,deactivated:x,beforeDestroy:k,beforeUnmount:w,destroyed:_,unmounted:S,render:j,renderTracked:C,renderTriggered:A,errorCaptured:P,serverPrefetch:T,expose:E,inheritAttrs:U,components:O,directives:M,filters:I}=t;if(d&&function(e,t){f(e)&&(e=Da(e));for(const a in e){const n=e[a];let r;r=y(n)?"default"in n?Ka(n.from||a,n.default,!0):Ka(n.from||a):Ka(n),bt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[a]=r}}(d,n,null),i)for(const r in i){const e=i[r];m(e)&&(n[r]=e.bind(a))}if(o){const t=o.call(a,a);y(t)&&(e.data=lt(t))}if(Ea=!0,s)for(const f in s){const e=s[f],t=m(e)?e.bind(a,a):m(e.get)?e.get.bind(a,a):r,o=!m(e)&&m(e.set)?e.set.bind(a):r,i=yr({get:t,set:o});Object.defineProperty(n,f,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(l)for(const r in l)Ma(l[r],n,a,r);if(c){const e=m(c)?c.call(a):c;Reflect.ownKeys(e).forEach(t=>{!function(e,t){if(sr){let a=sr.provides;const n=sr.parent&&sr.parent.provides;n===a&&(a=sr.provides=Object.create(n)),a[e]=t}else;}(t,e[t])})}function N(e,t){f(t)?t.forEach(t=>e(t.bind(a))):t&&e(t.bind(a))}if(u&&Oa(u,e,"c"),N(pa,p),N(va,v),N(ga,g),N(ma,h),N(ia,b),N(la,x),N(wa,P),N(ka,C),N(xa,A),N(ha,w),N(ba,S),N(ya,T),f(E))if(E.length){const t=e.exposed||(e.exposed={});E.forEach(e=>{Object.defineProperty(t,e,{get:()=>a[e],set:t=>a[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===r&&(e.render=j),null!=U&&(e.inheritAttrs=U),O&&(e.components=O),M&&(e.directives=M),T&&ta(e)}function Oa(e,t,a){Ut(f(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,a)}function Ma(e,t,a,n){let r=n.includes(".")?kn(a,n):()=>a[n];if(h(e)){const a=t[e];m(a)&&bn(r,a)}else if(m(e))bn(r,e.bind(a));else if(y(e))if(f(e))e.forEach(e=>Ma(e,t,a,n));else{const n=m(e.handler)?e.handler.bind(a):t[e.handler];m(n)&&bn(r,n,e)}}function Ia(e){const t=e.type,{mixins:a,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,i=o.get(t);let l;return i?l=i:r.length||a||n?(l={},r.length&&r.forEach(e=>Na(l,e,s,!0)),Na(l,t,s)):l=t,y(t)&&o.set(t,l),l}function Na(e,t,a,n=!1){const{mixins:r,extends:o}=t;o&&Na(e,o,a,!0),r&&r.forEach(t=>Na(e,t,a,!0));for(const s in t)if(n&&"expose"===s);else{const n=Ga[s]||a&&a[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const Ga={data:qa,props:La,emits:La,methods:Ra,computed:Ra,beforeCreate:Fa,created:Fa,beforeMount:Fa,mounted:Fa,beforeUpdate:Fa,updated:Fa,beforeDestroy:Fa,beforeUnmount:Fa,destroyed:Fa,unmounted:Fa,activated:Fa,deactivated:Fa,errorCaptured:Fa,serverPrefetch:Fa,components:Ra,directives:Ra,watch:function(e,t){if(!e)return t;if(!t)return e;const a=l(Object.create(null),e);for(const n in t)a[n]=Fa(e[n],t[n]);return a},provide:qa,inject:function(e,t){return Ra(Da(e),Da(t))}};function qa(e,t){return t?e?function(){return l(m(e)?e.call(this,this):e,m(t)?t.call(this,this):t)}:t:e}function Da(e){if(f(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function Fa(e,t){return e?[...new Set([].concat(e,t))]:t}function Ra(e,t){return e?l(Object.create(null),e,t):t}function La(e,t){return e?f(e)&&f(t)?[...new Set([...e,...t])]:l(Object.create(null),Ta(e),Ta(null!=t?t:{})):t}function Va(){return{app:null,config:{isNativeTag:o,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $a=0;function za(e,t){return function(a,n=null){m(a)||(a=l({},a)),null==n||y(n)||(n=null);const r=Va(),o=new WeakSet,s=[];let i=!1;const c=r.app={_uid:$a++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:xr,get config(){return r.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&m(e.install)?(o.add(e),e.install(c,...t)):m(e)&&(o.add(e),e(c,...t))),c),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),c),component:(e,t)=>t?(r.components[e]=t,c):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,c):r.directives[e],mount(o,s,l){if(!i){const d=c._ceVNode||Yn(a,n);return d.appContext=r,!0===l?l="svg":!1===l&&(l=void 0),s&&t?t(d,o):e(d,o,l),i=!0,c._container=o,o.__vue_app__=c,br(d.component)}},onUnmount(e){s.push(e)},unmount(){i&&(Ut(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,c),runWithContext(e){const t=Ba;Ba=c;try{return e()}finally{Ba=t}}};return c}}let Ba=null;function Ka(e,t,a=!1){const n=ir();if(n||Ba){let r=Ba?Ba._context.provides:n?null==n.parent||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return a&&m(t)?t.call(n&&n.proxy):t}}const Wa={},Ha=()=>Object.create(Wa),Ya=e=>Object.getPrototypeOf(e)===Wa;function Ja(e,t,a,n=!1){const r={},o=Ha();e.propsDefaults=Object.create(null),Xa(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);a?e.props=n?r:dt(r,!1,He,tt,rt):e.type.props?e.props=r:e.props=o,e.attrs=o}function Xa(e,t,n,r){const[o,s]=e.propsOptions;let i,l=!1;if(t)for(let a in t){if(j(a))continue;const c=t[a];let d;o&&u(o,d=P(a))?s&&s.includes(d)?(i||(i={}))[d]=c:n[d]=c:Cn(e.emitsOptions,a)||a in r&&c===r[a]||(r[a]=c,l=!0)}if(s){const t=gt(n),r=i||a;for(let a=0;a<s.length;a++){const i=s[a];n[i]=Za(o,t,i,r[i],e,!u(r,i))}}return l}function Za(e,t,a,n,r,o){const s=e[a];if(null!=s){const e=u(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&!s.skipFactory&&m(e)){const{propsDefaults:o}=r;if(a in o)n=o[a];else{const s=dr(r);n=o[a]=e.call(null,t),s()}}else n=e;r.ce&&r.ce._setProp(a,n)}s[0]&&(o&&!e?n=!1:!s[1]||""!==n&&n!==E(a)||(n=!0))}return n}const Qa=new WeakMap;function en(e,t,r=!1){const o=r?Qa:t.propsCache,s=o.get(e);if(s)return s;const i=e.props,c={},d=[];let p=!1;if(!m(e)){const a=e=>{p=!0;const[a,n]=en(e,t,!0);l(c,a),n&&d.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!i&&!p)return y(e)&&o.set(e,n),n;if(f(i))for(let n=0;n<i.length;n++){const e=P(i[n]);tn(e)&&(c[e]=a)}else if(i)for(const a in i){const e=P(a);if(tn(e)){const t=i[a],n=c[e]=f(t)||m(t)?{type:t}:l({},t),r=n.type;let o=!1,s=!0;if(f(r))for(let e=0;e<r.length;++e){const t=r[e],a=m(t)&&t.name;if("Boolean"===a){o=!0;break}"String"===a&&(s=!1)}else o=m(r)&&"Boolean"===r.name;n[0]=o,n[1]=s,(o||u(n,"default"))&&d.push(e)}}const v=[c,d];return y(e)&&o.set(e,v),v}function tn(e){return"$"!==e[0]&&!j(e)}const an=e=>"_"===e||"_ctx"===e||"$stable"===e,nn=e=>f(e)?e.map(er):[er(e)],rn=(e,t,a)=>{if(t._n)return t;const n=function(e,t=Wt){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&Rn(-1);const r=Yt(t);let o;try{o=e(...n)}finally{Yt(r),a._d&&Rn(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}((...e)=>nn(t(...e)),a);return n._c=!1,n},on=(e,t,a)=>{const n=e._ctx;for(const r in e){if(an(r))continue;const a=e[r];if(m(a))t[r]=rn(0,a,n);else if(null!=a){const e=nn(a);t[r]=()=>e}}},sn=(e,t)=>{const a=nn(t);e.slots.default=()=>a},ln=(e,t,a)=>{for(const n in t)!a&&an(n)||(e[n]=t[n])},cn=function(e,t){t&&t.pendingBranch?f(e)?t.effects.push(...e):t.effects.push(e):(f(a=e)?Nt.push(...a):Gt&&-1===a.id?Gt.splice(qt+1,0,a):1&a.flags||(Nt.push(a),a.flags|=1),Vt());var a};function dn(e){return function(e,t){D().__VUE__=!0;const{insert:o,remove:s,patchProp:i,createElement:l,createText:c,createComment:d,setText:f,setElementText:p,parentNode:v,nextSibling:g,setScopeId:m=r,insertStaticContent:h}=e,b=(e,t,a,n=null,r=null,o=null,s=void 0,i=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Bn(e,t)&&(n=Q(e),H(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case Mn:y(e,t,a,n);break;case In:k(e,t,a,n);break;case Nn:null==e&&w(t,a,n,s);break;case On:q(e,t,a,n,r,o,s,i,l);break;default:1&u?C(e,t,a,n,r,o,s,i,l):6&u?F(e,t,a,n,r,o,s,i,l):(64&u||128&u)&&c.process(e,t,a,n,r,o,s,i,l,re)}null!=d&&r?na(d,e&&e.ref,o,t||e,!t):null==d&&e&&null!=e.ref&&na(e.ref,null,o,e,!0)},y=(e,t,a,n)=>{if(null==e)o(t.el=c(t.children),a,n);else{const a=t.el=e.el;t.children!==e.children&&f(a,t.children)}},k=(e,t,a,n)=>{null==e?o(t.el=d(t.children||""),a,n):t.el=e.el},w=(e,t,a,n)=>{[e.el,e.anchor]=h(e.children,t,a,n,e.el,e.anchor)},_=({el:e,anchor:t},a,n)=>{let r;for(;e&&e!==t;)r=g(e),o(e,a,n),e=r;o(t,a,n)},S=({el:e,anchor:t})=>{let a;for(;e&&e!==t;)a=g(e),s(e),e=a;s(t)},C=(e,t,a,n,r,o,s,i,l)=>{if("svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e)A(t,a,n,r,o,s,i,l);else{const a=e.el&&e.el._isVueCE?e.el:null;try{a&&a._beginPatch(),O(e,t,r,o,s,i,l)}finally{a&&a._endPatch()}}},A=(e,t,a,n,r,s,c,d)=>{let u,f;const{props:v,shapeFlag:g,transition:m,dirs:h}=e;if(u=e.el=l(e.type,s,v&&v.is,v),8&g?p(u,e.children):16&g&&U(e.children,u,null,n,r,un(e,s),c,d),h&&Xt(e,null,n,"created"),T(u,e,e.scopeId,c,n),v){for(const e in v)"value"===e||j(e)||i(u,e,null,v[e],s,n);"value"in v&&i(u,"value",null,v.value,s),(f=v.onVnodeBeforeMount)&&nr(f,n,e)}h&&Xt(e,null,n,"beforeMount");const b=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(r,m);b&&m.beforeEnter(u),o(u,t,a),((f=v&&v.onVnodeMounted)||b||h)&&cn(()=>{f&&nr(f,n,e),b&&m.enter(u),h&&Xt(e,null,n,"mounted")},r)},T=(e,t,a,n,r)=>{if(a&&m(e,a),n)for(let o=0;o<n.length;o++)m(e,n[o]);if(r){let a=r.subTree;if(t===a||Un(a.type)&&(a.ssContent===t||a.ssFallback===t)){const t=r.vnode;T(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},U=(e,t,a,n,r,o,s,i,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=i?tr(e[c]):er(e[c]);b(null,l,t,a,n,r,o,s,i)}},O=(e,t,n,r,o,s,l)=>{const c=t.el=e.el;let{patchFlag:d,dynamicChildren:u,dirs:f}=t;d|=16&e.patchFlag;const v=e.props||a,g=t.props||a;let m;if(n&&fn(n,!1),(m=g.onVnodeBeforeUpdate)&&nr(m,n,t,e),f&&Xt(t,e,n,"beforeUpdate"),n&&fn(n,!0),(v.innerHTML&&null==g.innerHTML||v.textContent&&null==g.textContent)&&p(c,""),u?M(e.dynamicChildren,u,c,n,r,un(t,o),s):l||z(e,t,c,null,n,r,un(t,o),s,!1),d>0){if(16&d)G(c,v,g,n,o);else if(2&d&&v.class!==g.class&&i(c,"class",null,g.class,o),4&d&&i(c,"style",v.style,g.style,o),8&d){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const a=e[t],r=v[a],s=g[a];s===r&&"value"!==a||i(c,a,r,s,o,n)}}1&d&&e.children!==t.children&&p(c,t.children)}else l||null!=u||G(c,v,g,n,o);((m=g.onVnodeUpdated)||f)&&cn(()=>{m&&nr(m,n,t,e),f&&Xt(t,e,n,"updated")},r)},M=(e,t,a,n,r,o,s)=>{for(let i=0;i<t.length;i++){const l=e[i],c=t[i],d=l.el&&(l.type===On||!Bn(l,c)||198&l.shapeFlag)?v(l.el):a;b(l,c,d,null,n,r,o,s,!0)}},G=(e,t,n,r,o)=>{if(t!==n){if(t!==a)for(const a in t)j(a)||a in n||i(e,a,t[a],null,o,r);for(const a in n){if(j(a))continue;const s=n[a],l=t[a];s!==l&&"value"!==a&&i(e,a,l,s,o,r)}"value"in n&&i(e,"value",t.value,n.value,o)}},q=(e,t,a,n,r,s,i,l,d)=>{const u=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:v,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(o(u,a,n),o(f,a,n),U(t.children||[],a,f,r,s,i,l,d)):p>0&&64&p&&v&&e.dynamicChildren?(M(e.dynamicChildren,v,a,r,s,i,l),(null!=t.key||r&&t===r.subTree)&&pn(e,t,!0)):z(e,t,a,f,r,s,i,l,d)},F=(e,t,a,n,r,o,s,i,l)=>{t.slotScopeIds=i,null==e?512&t.shapeFlag?r.ctx.activate(t,a,n,s,l):R(t,a,n,r,o,s,l):L(e,t,l)},R=(e,t,n,r,o,s,i)=>{const l=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||rr,s={uid:or++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new te(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:en(r,o),emitsOptions:jn(r,o),emit:null,emitted:null,propsDefaults:a,inheritAttrs:r.inheritAttrs,ctx:a,data:a,props:a,attrs:a,slots:a,refs:a,setupState:a,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};s.ctx={_:s},s.root=t?t.root:s,s.emit=_n.bind(null,s),e.ce&&e.ce(s);return s}(e,r,o);if(sa(e)&&(l.ctx.renderer=re),function(e,t=!1,a=!1){t&&cr(t);const{props:n,children:r}=e.vnode,o=fr(e);Ja(e,n,o,t),((e,t,a)=>{const n=e.slots=Ha();if(32&e.vnode.shapeFlag){const e=t._;e?(ln(n,t,a),a&&N(n,"_",e,!0)):on(t,n)}else t&&sn(e,t)})(e,r,a||t);const s=o?function(e,t){const a=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pa);const{setup:n}=a;if(n){be();const a=e.setupContext=n.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,hr),slots:e.slots,emit:e.emit,expose:t}}(e):null,r=dr(e),o=Et(n,e,0,[e.props,a]),s=x(o);if(ye(),r(),!s&&!e.sp||oa(e)||ta(e),s){if(o.then(ur,ur),t)return o.then(a=>{gr(e,a,t)}).catch(t=>{Ot(t,e,0)});e.asyncDep=o}else gr(e,o,t)}else mr(e,t)}(e,t):void 0;t&&cr(!1)}(l,!1,i),l.asyncDep){if(o&&o.registerDep(l,V,i),!e.el){const a=l.subTree=Yn(In);k(null,a,t,n),e.placeholder=a.el}}else V(l,e,t,n,o,s,i)},L=(e,t,a)=>{const n=t.component=e.component;if(function(e,t,a){const{props:n,children:r,component:o}=e,{props:s,children:i,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(a&&l>=0))return!(!r&&!i||i&&i.$stable)||n!==s&&(n?!s||En(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?En(n,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const a=e[t];if(s[a]!==n[a]&&!Cn(c,a))return!0}}return!1}(e,t,a)){if(n.asyncDep&&!n.asyncResolved)return void $(n,t,a);n.next=t,n.update()}else t.el=e.el,n.vnode=t},V=(e,t,a,n,r,o,s)=>{const i=()=>{if(e.isMounted){let{next:t,bu:a,u:n,parent:l,vnode:c}=e;{const a=vn(e);if(a)return t&&(t.el=c.el,$(e,t,s)),void a.asyncDep.then(()=>{e.isUnmounted||i()})}let d,u=t;fn(e,!1),t?(t.el=c.el,$(e,t,s)):t=c,a&&I(a),(d=t.props&&t.props.onVnodeBeforeUpdate)&&nr(d,l,t,c),fn(e,!0);const f=An(e),p=e.subTree;e.subTree=f,b(p,f,v(p.el),Q(p),e,r,o),t.el=f.el,null===u&&function({vnode:e,parent:t},a){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=a,t=t.parent}}(e,f.el),n&&cn(n,r),(d=t.props&&t.props.onVnodeUpdated)&&cn(()=>nr(d,l,t,c),r)}else{let s;const{el:i,props:l}=t,{bm:c,m:d,parent:u,root:f,type:p}=e,v=oa(t);if(fn(e,!1),c&&I(c),!v&&(s=l&&l.onVnodeBeforeMount)&&nr(s,u,t),fn(e,!0),i&&se){const t=()=>{e.subTree=An(e),se(i,e.subTree,e,r,null)};v&&p.__asyncHydrate?p.__asyncHydrate(i,e,t):t()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(p);const s=e.subTree=An(e);b(null,s,a,n,e,r,o),t.el=s.el}if(d&&cn(d,r),!v&&(s=l&&l.onVnodeMounted)){const e=t;cn(()=>nr(s,u,e),r)}(256&t.shapeFlag||u&&oa(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&cn(e.a,r),e.isMounted=!0,t=a=n=null}};e.scope.on();const l=e.effect=new ne(i);e.scope.off();const c=e.update=l.run.bind(l),d=e.job=l.runIfDirty.bind(l);d.i=e,d.id=e.uid,l.scheduler=()=>Lt(d),fn(e,!0),c()},$=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,a,n){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,i=gt(r),[l]=e.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;Xa(e,t,r,o)&&(c=!0);for(const o in i)t&&(u(t,o)||(n=E(o))!==o&&u(t,n))||(l?!a||void 0===a[o]&&void 0===a[n]||(r[o]=Za(l,i,o,void 0,e,!0)):delete r[o]);if(o!==i)for(const e in o)t&&u(t,e)||(delete o[e],c=!0)}else if(8&s){const a=e.vnode.dynamicProps;for(let n=0;n<a.length;n++){let s=a[n];if(Cn(e.emitsOptions,s))continue;const d=t[s];if(l)if(u(o,s))d!==o[s]&&(o[s]=d,c=!0);else{const t=P(s);r[t]=Za(l,i,t,d,e,!1)}else d!==o[s]&&(o[s]=d,c=!0)}}c&&Ee(e.attrs,"set","")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=a;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:ln(o,t,n):(s=!t.$stable,on(t,o)),i=t}else t&&(sn(e,t),i={default:1});if(s)for(const a in o)an(a)||null!=i[a]||delete o[a]})(e,t.children,n),be(),$t(e),ye()},z=(e,t,a,n,r,o,s,i,l=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,u=t.children,{patchFlag:f,shapeFlag:v}=t;if(f>0){if(128&f)return void K(c,u,a,n,r,o,s,i,l);if(256&f)return void B(c,u,a,n,r,o,s,i,l)}8&v?(16&d&&Z(c,r,o),u!==c&&p(a,u)):16&d?16&v?K(c,u,a,n,r,o,s,i,l):Z(c,r,o,!0):(8&d&&p(a,""),16&v&&U(u,a,n,r,o,s,i,l))},B=(e,t,a,r,o,s,i,l,c)=>{t=t||n;const d=(e=e||n).length,u=t.length,f=Math.min(d,u);let p;for(p=0;p<f;p++){const n=t[p]=c?tr(t[p]):er(t[p]);b(e[p],n,a,null,o,s,i,l,c)}d>u?Z(e,o,s,!0,!1,f):U(t,a,r,o,s,i,l,c,f)},K=(e,t,a,r,o,s,i,l,c)=>{let d=0;const u=t.length;let f=e.length-1,p=u-1;for(;d<=f&&d<=p;){const n=e[d],r=t[d]=c?tr(t[d]):er(t[d]);if(!Bn(n,r))break;b(n,r,a,null,o,s,i,l,c),d++}for(;d<=f&&d<=p;){const n=e[f],r=t[p]=c?tr(t[p]):er(t[p]);if(!Bn(n,r))break;b(n,r,a,null,o,s,i,l,c),f--,p--}if(d>f){if(d<=p){const e=p+1,n=e<u?t[e].el:r;for(;d<=p;)b(null,t[d]=c?tr(t[d]):er(t[d]),a,n,o,s,i,l,c),d++}}else if(d>p)for(;d<=f;)H(e[d],o,s,!0),d++;else{const v=d,g=d,m=new Map;for(d=g;d<=p;d++){const e=t[d]=c?tr(t[d]):er(t[d]);null!=e.key&&m.set(e.key,d)}let h,y=0;const x=p-g+1;let k=!1,w=0;const _=new Array(x);for(d=0;d<x;d++)_[d]=0;for(d=v;d<=f;d++){const n=e[d];if(y>=x){H(n,o,s,!0);continue}let r;if(null!=n.key)r=m.get(n.key);else for(h=g;h<=p;h++)if(0===_[h-g]&&Bn(n,t[h])){r=h;break}void 0===r?H(n,o,s,!0):(_[r-g]=d+1,r>=w?w=r:k=!0,b(n,t[r],a,null,o,s,i,l,c),y++)}const S=k?function(e){const t=e.slice(),a=[0];let n,r,o,s,i;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(r=a[a.length-1],e[r]<l){t[n]=r,a.push(n);continue}for(o=0,s=a.length-1;o<s;)i=o+s>>1,e[a[i]]<l?o=i+1:s=i;l<e[a[o]]&&(o>0&&(t[n]=a[o-1]),a[o]=n)}}o=a.length,s=a[o-1];for(;o-- >0;)a[o]=s,s=t[s];return a}(_):n;for(h=S.length-1,d=x-1;d>=0;d--){const e=g+d,n=t[e],f=t[e+1],p=e+1<u?f.el||f.placeholder:r;0===_[d]?b(null,n,a,p,o,s,i,l,c):k&&(h<0||d!==S[h]?W(n,a,p,2):h--)}}},W=(e,t,a,n,r=null)=>{const{el:i,type:l,transition:c,children:d,shapeFlag:u}=e;if(6&u)return void W(e.component.subTree,t,a,n);if(128&u)return void e.suspense.move(t,a,n);if(64&u)return void l.move(e,t,a,re);if(l===On){o(i,t,a);for(let e=0;e<d.length;e++)W(d[e],t,a,n);return void o(e.anchor,t,a)}if(l===Nn)return void _(e,t,a);if(2!==n&&1&u&&c)if(0===n)c.beforeEnter(i),o(i,t,a),cn(()=>c.enter(i),r);else{const{leave:n,delayLeave:r,afterLeave:l}=c,d=()=>{e.ctx.isUnmounted?s(i):o(i,t,a)},u=()=>{i._isLeaving&&i[Qt](!0),n(i,()=>{d(),l&&l()})};r?r(i,d,u):u()}else o(i,t,a)},H=(e,t,a,n=!1,r=!1)=>{const{type:o,props:s,ref:i,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:f,cacheIndex:p}=e;if(-2===u&&(r=!1),null!=i&&(be(),na(i,null,a,e,!0),ye()),null!=p&&(t.renderCache[p]=void 0),256&d)return void t.ctx.deactivate(e);const v=1&d&&f,g=!oa(e);let m;if(g&&(m=s&&s.onVnodeBeforeUnmount)&&nr(m,t,e),6&d)X(e.component,a,n);else{if(128&d)return void e.suspense.unmount(a,n);v&&Xt(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,a,re,n):c&&!c.hasOnce&&(o!==On||u>0&&64&u)?Z(c,t,a,!1,!0):(o===On&&384&u||!r&&16&d)&&Z(l,t,a),n&&Y(e)}(g&&(m=s&&s.onVnodeUnmounted)||v)&&cn(()=>{m&&nr(m,t,e),v&&Xt(e,null,t,"unmounted")},a)},Y=e=>{const{type:t,el:a,anchor:n,transition:r}=e;if(t===On)return void J(a,n);if(t===Nn)return void S(e);const o=()=>{s(a),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:n}=r,s=()=>t(a,o);n?n(e.el,o,s):s()}else o()},J=(e,t)=>{let a;for(;e!==t;)a=g(e),s(e),e=a;s(t)},X=(e,t,a)=>{const{bum:n,scope:r,job:o,subTree:s,um:i,m:l,a:c}=e;gn(l),gn(c),n&&I(n),r.stop(),o&&(o.flags|=8,H(s,e,t,a)),i&&cn(i,t),cn(()=>{e.isUnmounted=!0},t)},Z=(e,t,a,n=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)H(e[s],t,a,n,r)},Q=e=>{if(6&e.shapeFlag)return Q(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=g(e.anchor||e.el),a=t&&t[Zt];return a?g(a):t};let ee=!1;const ae=(e,t,a)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,a),t._vnode=e,ee||(ee=!0,$t(),zt(),ee=!1)},re={p:b,um:H,m:W,r:Y,mt:R,mc:U,pc:z,pbc:M,n:Q,o:e};let oe,se;t&&([oe,se]=t(re));return{render:ae,hydrate:oe,createApp:za(ae,oe)}}(e)}function un({type:e,props:t},a){return"svg"===a&&"foreignObject"===e||"mathml"===a&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:a}function fn({effect:e,job:t},a){a?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pn(e,t,a=!1){const n=e.children,r=t.children;if(f(n)&&f(r))for(let o=0;o<n.length;o++){const e=n[o];let t=r[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[o]=tr(r[o]),t.el=e.el),a||-2===t.patchFlag||pn(e,t)),t.type===Mn&&-1!==t.patchFlag&&(t.el=e.el),t.type!==In||t.el||(t.el=e.el)}}function vn(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vn(t)}function gn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mn=Symbol.for("v-scx"),hn=()=>Ka(mn);function bn(e,t,a){return yn(e,t,a)}function yn(e,t,n=a){const{immediate:o,deep:s,flush:i,once:c}=n,d=l({},n),u=t&&o||!t&&"post"!==i;let f;if(vr)if("sync"===i){const e=hn();f=e.__watcherHandles||(e.__watcherHandles=[])}else if(!u){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const p=sr;d.call=(e,t,a)=>Ut(e,p,t,a);let v=!1;"post"===i?d.scheduler=e=>{cn(e,p&&p.suspense)}:"sync"!==i&&(v=!0,d.scheduler=(e,t)=>{t?e():Lt(e)}),d.augmentJob=e=>{t&&(e.flags|=4),v&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const g=Pt(e,t,d);return vr&&(f?f.push(g):u&&g()),g}function xn(e,t,a){const n=this.proxy,r=h(e)?e.includes(".")?kn(n,e):()=>n[e]:e.bind(n,n);let o;m(t)?o=t:(o=t.handler,a=t);const s=dr(this),i=yn(r,o.bind(n),a);return s(),i}function kn(e,t){const a=t.split(".");return()=>{let t=e;for(let e=0;e<a.length&&t;e++)t=t[a[e]];return t}}const wn=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${P(t)}Modifiers`]||e[`${E(t)}Modifiers`];function _n(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||a;let o=n;const s=t.startsWith("update:"),i=s&&wn(r,t.slice(7));let l;i&&(i.trim&&(o=n.map(e=>h(e)?e.trim():e)),i.number&&(o=n.map(G)));let c=r[l=O(t)]||r[l=O(P(t))];!c&&s&&(c=r[l=O(E(t))]),c&&Ut(c,e,6,o);const d=r[l+"Once"];if(d){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ut(d,e,6,o)}}const Sn=new WeakMap;function jn(e,t,a=!1){const n=a?Sn:t.emitsCache,r=n.get(e);if(void 0!==r)return r;const o=e.emits;let s={},i=!1;if(!m(e)){const n=e=>{const a=jn(e,t,!0);a&&(i=!0,l(s,a))};!a&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return o||i?(f(o)?o.forEach(e=>s[e]=null):l(s,o),y(e)&&n.set(e,s),s):(y(e)&&n.set(e,null),null)}function Cn(e,t){return!(!e||!s(t))&&(t=t.slice(2).replace(/Once$/,""),u(e,t[0].toLowerCase()+t.slice(1))||u(e,E(t))||u(e,t))}function An(e){const{type:t,vnode:a,proxy:n,withProxy:r,propsOptions:[o],slots:s,attrs:l,emit:c,render:d,renderCache:u,props:f,data:p,setupState:v,ctx:g,inheritAttrs:m}=e,h=Yt(e);let b,y;try{if(4&a.shapeFlag){const e=r||n,t=e;b=er(d.call(t,e,u,f,v,p,g)),y=l}else{const e=t;0,b=er(e.length>1?e(f,{attrs:l,slots:s,emit:c}):e(f,null)),y=t.props?l:Pn(l)}}catch(k){Gn.length=0,Ot(k,e,1),b=Yn(In)}let x=b;if(y&&!1!==m){const e=Object.keys(y),{shapeFlag:t}=x;e.length&&7&t&&(o&&e.some(i)&&(y=Tn(y,o)),x=Jn(x,y,!1,!0))}return a.dirs&&(x=Jn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(a.dirs):a.dirs),a.transition&&ea(x,a.transition),b=x,Yt(h),b}const Pn=e=>{let t;for(const a in e)("class"===a||"style"===a||s(a))&&((t||(t={}))[a]=e[a]);return t},Tn=(e,t)=>{const a={};for(const n in e)i(n)&&n.slice(9)in t||(a[n]=e[n]);return a};function En(e,t,a){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!Cn(a,o))return!0}return!1}const Un=e=>e.__isSuspense;const On=Symbol.for("v-fgt"),Mn=Symbol.for("v-txt"),In=Symbol.for("v-cmt"),Nn=Symbol.for("v-stc"),Gn=[];let qn=null;function Dn(e=!1){Gn.push(qn=e?null:[])}let Fn=1;function Rn(e,t=!1){Fn+=e,e<0&&qn&&t&&(qn.hasOnce=!0)}function Ln(e){return e.dynamicChildren=Fn>0?qn||n:null,Gn.pop(),qn=Gn[Gn.length-1]||null,Fn>0&&qn&&qn.push(e),e}function Vn(e,t,a,n,r,o){return Ln(Hn(e,t,a,n,r,o,!0))}function $n(e,t,a,n,r){return Ln(Yn(e,t,a,n,r,!0))}function zn(e){return!!e&&!0===e.__v_isVNode}function Bn(e,t){return e.type===t.type&&e.key===t.key}const Kn=({key:e})=>null!=e?e:null,Wn=({ref:e,ref_key:t,ref_for:a})=>("number"==typeof e&&(e=""+e),null!=e?h(e)||bt(e)||m(e)?{i:Wt,r:e,k:t,f:!!a}:e:null);function Hn(e,t=null,a=null,n=0,r=null,o=(e===On?0:1),s=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kn(t),ref:t&&Wn(t),scopeId:Ht,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Wt};return i?(ar(l,a),128&o&&e.normalize(l)):a&&(l.shapeFlag|=h(a)?8:16),Fn>0&&!s&&qn&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&qn.push(l),l}const Yn=function(e,t=null,a=null,n=0,r=null,o=!1){e&&e!==_a||(e=In);if(zn(e)){const n=Jn(e,t,!0);return a&&ar(n,a),Fn>0&&!o&&qn&&(6&n.shapeFlag?qn[qn.indexOf(e)]=n:qn.push(n)),n.patchFlag=-2,n}s=e,m(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){t=function(e){return e?vt(e)||Ya(e)?l({},e):e:null}(t);let{class:e,style:a}=t;e&&!h(e)&&(t.class=z(e)),y(a)&&(vt(a)&&!f(a)&&(a=l({},a)),t.style=F(a))}const i=h(e)?1:Un(e)?128:(e=>e.__isTeleport)(e)?64:y(e)?4:m(e)?2:0;return Hn(e,t,a,n,r,i,o,!0)};function Jn(e,t,a=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:l,transition:c}=e,d=t?function(...e){const t={};for(let a=0;a<e.length;a++){const n=e[a];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=z([t.class,n.class]));else if("style"===e)t.style=F([t.style,n.style]);else if(s(e)){const a=t[e],r=n[e];!r||a===r||f(a)&&a.includes(r)||(t[e]=a?[].concat(a,r):r)}else""!==e&&(t[e]=n[e])}return t}(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Kn(d),ref:t&&t.ref?a&&o?f(o)?o.concat(Wn(t)):[o,Wn(t)]:Wn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==On?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jn(e.ssContent),ssFallback:e.ssFallback&&Jn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&ea(u,c.clone(u)),u}function Xn(e=" ",t=0){return Yn(Mn,null,e,t)}function Zn(e,t){const a=Yn(Nn,null,e);return a.staticCount=t,a}function Qn(e="",t=!1){return t?(Dn(),$n(In,null,e)):Yn(In,null,e)}function er(e){return null==e||"boolean"==typeof e?Yn(In):f(e)?Yn(On,null,e.slice()):zn(e)?tr(e):Yn(Mn,null,String(e))}function tr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Jn(e)}function ar(e,t){let a=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(f(t))a=16;else if("object"==typeof t){if(65&n){const a=t.default;return void(a&&(a._c&&(a._d=!1),ar(e,a()),a._c&&(a._d=!0)))}{a=32;const n=t._;n||Ya(t)?3===n&&Wt&&(1===Wt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Wt}}else m(t)?(t={default:t,_ctx:Wt},a=32):(t=String(t),64&n?(a=16,t=[Xn(t)]):a=8);e.children=t,e.shapeFlag|=a}function nr(e,t,a,n=null){Ut(e,t,7,[a,n])}const rr=Va();let or=0;let sr=null;const ir=()=>sr||Wt;let lr,cr;{const e=D(),t=(t,a)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(a),e=>{n.length>1?n.forEach(t=>t(e)):n[0](e)}};lr=t("__VUE_INSTANCE_SETTERS__",e=>sr=e),cr=t("__VUE_SSR_SETTERS__",e=>vr=e)}const dr=e=>{const t=sr;return lr(e),e.scope.on(),()=>{e.scope.off(),lr(t)}},ur=()=>{sr&&sr.scope.off(),lr(null)};function fr(e){return 4&e.vnode.shapeFlag}let pr,vr=!1;function gr(e,t,a){m(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=_t(t)),mr(e,a)}function mr(e,t,a){const n=e.type;if(!e.render){if(!t&&pr&&!n.render){const t=n.template||Ia(e).template;if(t){const{isCustomElement:a,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:s}=n,i=l(l({isCustomElement:a,delimiters:o},r),s);n.render=pr(t,i)}}e.render=n.render||r}{const t=dr(e);be();try{Ua(e)}finally{ye(),t()}}}const hr={get:(e,t)=>(Te(e,0,""),e[t])};function br(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_t((t=e.exposed,!u(t,"__v_skip")&&Object.isExtensible(t)&&N(t,"__v_skip",!0),t)),{get:(t,a)=>a in t?t[a]:a in Ca?Ca[a](e):void 0,has:(e,t)=>t in e||t in Ca})):e.proxy;var t}const yr=(e,t)=>{const a=function(e,t,a=!1){let n,r;return m(e)?n=e:(n=e.get,r=e.set),new St(n,r,a)}(e,0,vr);return a},xr="3.5.24";
/**
  * @vue/runtime-dom v3.5.24
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/
let kr;const wr="undefined"!=typeof window&&window.trustedTypes;if(wr)try{kr=wr.createPolicy("vue",{createHTML:e=>e})}catch(tc){}const _r=kr?e=>kr.createHTML(e):e=>e,Sr="undefined"!=typeof document?document:null,jr=Sr&&Sr.createElement("template"),Cr={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,n)=>{const r="svg"===t?Sr.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Sr.createElementNS("http://www.w3.org/1998/Math/MathML",e):a?Sr.createElement(e,{is:a}):Sr.createElement(e);return"select"===e&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:e=>Sr.createTextNode(e),createComment:e=>Sr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Sr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,n,r,o){const s=a?a.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),a),r!==o&&(r=r.nextSibling););else{jr.innerHTML=_r("svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e);const r=jr.content;if("svg"===n||"mathml"===n){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,a)}return[s?s.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}},Ar=Symbol("_vtc");const Pr=Symbol("_vod"),Tr=Symbol("_vsh"),Er={name:"show",beforeMount(e,{value:t},{transition:a}){e[Pr]="none"===e.style.display?"":e.style.display,a&&t?a.beforeEnter(e):Ur(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:n}){!t!=!a&&(n?t?(n.beforeEnter(e),Ur(e,!0),n.enter(e)):n.leave(e,()=>{Ur(e,!1)}):Ur(e,t))},beforeUnmount(e,{value:t}){Ur(e,t)}};function Ur(e,t){e.style.display=t?e[Pr]:"none",e[Tr]=!t}const Or=Symbol(""),Mr=/(?:^|;)\s*display\s*:/;const Ir=/\s*!important$/;function Nr(e,t,a){if(f(a))a.forEach(a=>Nr(e,t,a));else if(null==a&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const n=function(e,t){const a=qr[t];if(a)return a;let n=P(t);if("filter"!==n&&n in e)return qr[t]=n;n=U(n);for(let r=0;r<Gr.length;r++){const a=Gr[r]+n;if(a in e)return qr[t]=a}return t}(e,t);Ir.test(a)?e.setProperty(E(n),a.replace(Ir,""),"important"):e[n]=a}}const Gr=["Webkit","Moz","ms"],qr={};const Dr="http://www.w3.org/1999/xlink";function Fr(e,t,a,n,r,o=B(t)){n&&t.startsWith("xlink:")?null==a?e.removeAttributeNS(Dr,t.slice(6,t.length)):e.setAttributeNS(Dr,t,a):null==a||o&&!K(a)?e.removeAttribute(t):e.setAttribute(t,o?"":b(a)?String(a):a)}function Rr(e,t,a,n,r){if("innerHTML"===t||"textContent"===t)return void(null!=a&&(e[t]="innerHTML"===t?_r(a):a));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const n="OPTION"===o?e.getAttribute("value")||"":e.value,r=null==a?"checkbox"===e.type?"on":"":String(a);return n===r&&"_value"in e||(e.value=r),null==a&&e.removeAttribute(t),void(e._value=a)}let s=!1;if(""===a||null==a){const n=typeof e[t];"boolean"===n?a=K(a):null==a&&"string"===n?(a="",s=!0):"number"===n&&(a=0,s=!0)}try{e[t]=a}catch(tc){}s&&e.removeAttribute(r||t)}function Lr(e,t,a,n){e.addEventListener(t,a,n)}const Vr=Symbol("_vei");function $r(e,t,a,n,r=null){const o=e[Vr]||(e[Vr]={}),s=o[t];if(n&&s)s.value=n;else{const[a,i]=function(e){let t;if(zr.test(e)){let a;for(t={};a=e.match(zr);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}const a=":"===e[2]?e.slice(3):E(e.slice(2));return[a,t]}(t);if(n){const s=o[t]=function(e,t){const a=e=>{if(e._vts){if(e._vts<=a.attached)return}else e._vts=Date.now();Ut(function(e,t){if(f(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,a.value),t,5,[e])};return a.value=e,a.attached=Wr(),a}(n,r);Lr(e,a,s,i)}else s&&(!function(e,t,a,n){e.removeEventListener(t,a,n)}(e,a,s,i),o[t]=void 0)}}const zr=/(?:Once|Passive|Capture)$/;let Br=0;const Kr=Promise.resolve(),Wr=()=>Br||(Kr.then(()=>Br=0),Br=Date.now());const Hr=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Yr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return f(t)?e=>I(t,e):t};function Jr(e){e.target.composing=!0}function Xr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Zr=Symbol("_assign");function Qr(e,t,a){return t&&(e=e.trim()),a&&(e=G(e)),e}const eo={created(e,{modifiers:{lazy:t,trim:a,number:n}},r){e[Zr]=Yr(r);const o=n||r.props&&"number"===r.props.type;Lr(e,t?"change":"input",t=>{t.target.composing||e[Zr](Qr(e.value,a,o))}),(a||o)&&Lr(e,"change",()=>{e.value=Qr(e.value,a,o)}),t||(Lr(e,"compositionstart",Jr),Lr(e,"compositionend",Xr),Lr(e,"change",Xr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:a,modifiers:{lazy:n,trim:r,number:o}},s){if(e[Zr]=Yr(s),e.composing)return;const i=null==t?"":t;if((!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:G(e.value))!==i){if(document.activeElement===e&&"range"!==e.type){if(n&&t===a)return;if(r&&e.value.trim()===i)return}e.value=i}}},to={deep:!0,created(e,{value:t,modifiers:{number:a}},n){const r=v(t);Lr(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>a?G(no(e)):no(e));e[Zr](e.multiple?r?new Set(t):t:t[0]),e._assigning=!0,Rt(()=>{e._assigning=!1})}),e[Zr]=Yr(n)},mounted(e,{value:t}){ao(e,t)},beforeUpdate(e,t,a){e[Zr]=Yr(a)},updated(e,{value:t}){e._assigning||ao(e,t)}};function ao(e,t){const a=e.multiple,n=f(t);if(!a||n||v(t)){for(let r=0,o=e.options.length;r<o;r++){const o=e.options[r],s=no(o);if(a)if(n){const e=typeof s;o.selected="string"===e||"number"===e?t.some(e=>String(e)===String(s)):H(t,s)>-1}else o.selected=t.has(s);else if(W(no(o),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}a||-1===e.selectedIndex||(e.selectedIndex=-1)}}function no(e){return"_value"in e?e._value:e.value}const ro=["ctrl","shift","alt","meta"],oo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ro.some(a=>e[`${a}Key`]&&!t.includes(a))},so=(e,t)=>{const a=e._withMods||(e._withMods={}),n=t.join(".");return a[n]||(a[n]=(a,...n)=>{for(let e=0;e<t.length;e++){const n=oo[t[e]];if(n&&n(a,t))return}return e(a,...n)})},io=l({patchProp:(e,t,a,n,r,o)=>{const l="svg"===r;"class"===t?function(e,t,a){const n=e[Ar];n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}(e,n,l):"style"===t?function(e,t,a){const n=e.style,r=h(a);let o=!1;if(a&&!r){if(t)if(h(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==a[t]&&Nr(n,t,"")}else for(const e in t)null==a[e]&&Nr(n,e,"");for(const e in a)"display"===e&&(o=!0),Nr(n,e,a[e])}else if(r){if(t!==a){const e=n[Or];e&&(a+=";"+e),n.cssText=a,o=Mr.test(a)}}else t&&e.removeAttribute("style");Pr in e&&(e[Pr]=o?n.display:"",e[Tr]&&(n.display="none"))}(e,a,n):s(t)?i(t)||$r(e,t,0,n,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,a,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&Hr(t)&&m(a));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Hr(t)&&h(a))return!1;return t in e}(e,t,n,l))?(Rr(e,t,n),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Fr(e,t,n,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&h(n)?("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),Fr(e,t,n,l)):Rr(e,P(t),n,0,t)}},Cr);let lo;const co=(...e)=>{const t=(lo||(lo=dn(io))).createApp(...e),{mount:a}=t;return t.mount=e=>{const n=function(e){if(h(e)){return document.querySelector(e)}return e}(e);if(!n)return;const r=t._component;m(r)||r.render||r.template||(r.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const o=a(n,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function uo(e,t){if(!e||!t||"N/A"===e||"N/A"===t)return"";const a=String(e).trim(),n=String(t).trim(),r=["A*","A","B","C","D","E","U"],o=r.indexOf(a.toUpperCase()),s=r.indexOf(n.toUpperCase());if(-1!==o&&-1!==s){const e=s-o;if(e>=2)return"grade-significantly-above";if(1===e)return"grade-above";if(0===e)return"grade-matching";if(-1===e)return"grade-one-below";if(-2===e)return"grade-two-below";if(e<=-3)return"grade-far-below"}const i=parseFloat(a),l=parseFloat(n);if(!isNaN(i)&&!isNaN(l)){const e=i-l;if(e>=2)return"grade-significantly-above";if(1===e)return"grade-above";if(0===e)return"grade-matching";if(-1===e)return"grade-one-below";if(-2===e)return"grade-two-below";if(e<=-3)return"grade-far-below"}const c={"D*":4,"D*D*":8,"D*D*D*":12,D:3,DD:6,DDD:9,M:2,MM:4,MMM:6,P:1,PP:2,PPP:3,"D*D":7,"D*DD":10,DM:5,DMM:7,MP:3,MPP:4},d=c[a.toUpperCase()],u=c[n.toUpperCase()];if(d&&u){const e=d-u;if(e>=2)return"grade-significantly-above";if(1===e)return"grade-above";if(0===e)return"grade-matching";if(-1===e)return"grade-one-below";if(-2===e)return"grade-two-below";if(e<=-3)return"grade-far-below"}return a.toUpperCase()===n.toUpperCase()?"grade-matching":""}const fo=(e,t)=>{const a=e.__vccOpts||e;for(const[n,r]of t)a[n]=r;return a},po={class:"subject-title"},vo={class:"subject-name"},go={class:"subject-meta"},mo={key:0,class:"meta-edit-grid"},ho=["value"],bo=["value"],yo=["value"],xo={key:0},ko={class:"grades-container"},wo={key:0,class:"grade-item"},_o={class:"grade-label"},So={class:"grade-value grade-meg"},jo=["value"],Co={key:1,class:"grade-text"},Ao={key:1,class:"grade-item"},Po={class:"grade-value grade-stg"},To=["value"],Eo={key:1,class:"grade-text"},Uo={class:"grade-item current-grade-item"},Oo={class:"grade-value-display"},Mo=["value"],Io={class:"grade-item target-grade-item"},No={class:"grade-value-display"},Go=["value"],qo={key:0,class:"optional-grades-container"},Do={class:"optional-grade-item"},Fo=["value"],Ro={key:1},Lo={class:"optional-grade-item"},Vo=["value"],$o={key:1},zo={class:"optional-grade-item"},Bo=["value"],Ko={key:1},Wo={key:0},Ho={key:1},Yo=fo({__name:"SubjectCard",props:{subject:{type:Object,required:!0},editMode:{type:Boolean,default:!1},isStaff:{type:Boolean,default:!1},allowStudentTargetEdit:{type:Boolean,default:!1},showMeg:{type:Boolean,default:!0},showStg:{type:Boolean,default:!0}},emits:["update"],setup(e,{emit:t}){const a=e,n=t,r=e=>{if(null==e)return!0;const t=String(e).trim();if(!t)return!0;const a=t.toUpperCase();return"N/A"===a||"NA"===a||"-"===t||""===t},o=e=>r(e)?"-":String(e).trim(),s=yt(!1),i=yr(()=>o(a.subject.subjectTargetGrade||a.subject.minimumExpectedGrade)),l=yr(()=>!(!a.subject.id&&!a.subject.originalRecordId)),c=yr(()=>a.subject.effortGrade||a.subject.behaviourGrade||a.subject.subjectAttendance),d=yr(()=>{const e=(a.subject.subjectName||"").toString().trim();return e?e.replace(/^\s*(?:[a-z]{1,2}\d?\s*-\s*)+/i,"").trim()||e:"Unknown Subject"}),u=yr(()=>{const e=(a.subject.subjectName||a.subject.originalRecordId||a.subject.id||"").toString(),t=["#00e5db","#86b4f0","#72cb44","#ff8f00","#f032e6","#7f31a4","#f3f553","#ff5252","#00c853","#00b0ff","#ff6d00","#aa00ff"];let n=0;for(let a=0;a<e.length;a++)n=(n<<5)-n+e.charCodeAt(a);return t[Math.abs(n)%t.length]}),f=yr(()=>({"--accent":u.value})),p=yr(()=>{const e=(a.subject.examType||"").trim().toLowerCase().replace(/\s+/g," ");return e?e.includes("a level")||e.includes("a-level")||e.includes("alevel")?"qual-a-level":e.includes("gcse")?"qual-gcse":e.includes("ib")?"qual-ib":e.includes("pre-u")||e.includes("pre u")?"qual-pre-u":e.includes("btec")?e.includes("2016")?"qual-btec-2016":e.includes("2010")?"qual-btec-2010":"qual-btec-2016":e.includes("ual")?"qual-ual":e.includes("wjec")?"qual-wjec":e.includes("cache")?"qual-cache":e.includes("voc")?"qual-vocational-generic":"":""}),v=(e,t)=>{n("update",a.subject.id,e,t)};return(t,u)=>{return Dn(),Vn("div",{class:z(["subject-card",p.value]),style:F(f.value)},[Hn("div",po,[Hn("div",vo,J(d.value),1)]),Hn("div",go,[e.editMode&&e.isStaff&&l.value?(Dn(),Vn("div",mo,[Hn("input",{class:"meta-input",value:e.subject.subjectName||"",onInput:u[0]||(u[0]=e=>v("subjectName",e.target.value)),placeholder:"Subject name"},null,40,ho),Hn("input",{class:"meta-input",value:e.subject.examType||"",onInput:u[1]||(u[1]=e=>v("examType",e.target.value)),placeholder:"Exam type (e.g. A Level - AQA)"},null,40,bo),Hn("input",{class:"meta-input",value:e.subject.examBoard||"",onInput:u[2]||(u[2]=e=>v("examBoard",e.target.value)),placeholder:"Exam board (optional)"},null,40,yo)])):(Dn(),Vn(On,{key:1},[Xn(J(e.subject.examType||"N/A")+" ",1),e.subject.examBoard?(Dn(),Vn("span",xo,"  "+J(e.subject.examBoard),1)):Qn("",!0)],64))]),Hn("div",ko,[e.showMeg?(Dn(),Vn("div",wo,[Hn("div",_o,[u[14]||(u[14]=Xn(" MEG ",-1)),Hn("span",{class:"meg-info-button",onClick:u[3]||(u[3]=e=>s.value=!0),title:"Understanding MEG"},"i")]),Hn("div",So,[e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"grade-input-dynamic",value:e.subject.minimumExpectedGrade||"",onInput:u[4]||(u[4]=e=>v("minimumExpectedGrade",e.target.value)),placeholder:"N/A"},null,40,jo)):(Dn(),Vn("span",Co,J(e.subject.minimumExpectedGrade||"N/A"),1))])])):Qn("",!0),e.showStg?(Dn(),Vn("div",Ao,[u[15]||(u[15]=Hn("div",{class:"grade-label"},"STG",-1)),Hn("div",Po,[e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"grade-input-dynamic",value:e.subject.subjectTargetGrade||"",onInput:u[5]||(u[5]=e=>v("subjectTargetGrade",e.target.value)),placeholder:"N/A"},null,40,To)):(Dn(),Vn("span",Eo,J(e.subject.subjectTargetGrade||e.subject.minimumExpectedGrade||"N/A"),1))])])):Qn("",!0),Hn("div",Uo,[u[16]||(u[16]=Hn("div",{class:"grade-label"},"Current",-1)),Hn("div",Oo,[e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"grade-input-dynamic",value:e.subject.currentGrade||"",onInput:u[6]||(u[6]=e=>v("currentGrade",e.target.value)),placeholder:"-"},null,40,Mo)):(Dn(),Vn("span",{key:1,class:z(["grade-text",r(e.subject.currentGrade)?"":kt(uo)(e.subject.currentGrade,i.value)])},J(o(e.subject.currentGrade)),3))])]),Hn("div",Io,[u[17]||(u[17]=Hn("div",{class:"grade-label"},"Target",-1)),Hn("div",No,[e.editMode&&l.value&&(e.isStaff||e.allowStudentTargetEdit)?(Dn(),Vn("input",{key:0,type:"text",class:"grade-input-dynamic",value:e.subject.targetGrade||"",onInput:u[7]||(u[7]=e=>v("targetGrade",e.target.value)),placeholder:"-"},null,40,Go)):(Dn(),Vn("span",{key:1,class:z(["grade-text",r(e.subject.targetGrade)?"":kt(uo)(e.subject.targetGrade,i.value)])},J(o(e.subject.targetGrade)),3))])])]),c.value||e.editMode&&e.isStaff?(Dn(),Vn("div",qo,[Hn("div",Do,[u[18]||(u[18]=Hn("span",{class:"optional-grade-label"},"Eff:",-1)),e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"optional-grade-input",value:e.subject.effortGrade||"",onInput:u[8]||(u[8]=e=>v("effortGrade",e.target.value)),placeholder:"-"},null,40,Fo)):(Dn(),Vn("span",Ro,J(e.subject.effortGrade||"-"),1))]),Hn("div",Lo,[u[19]||(u[19]=Hn("span",{class:"optional-grade-label"},"Beh:",-1)),e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"optional-grade-input",value:e.subject.behaviourGrade||"",onInput:u[9]||(u[9]=e=>v("behaviourGrade",e.target.value)),placeholder:"-"},null,40,Vo)):(Dn(),Vn("span",$o,J(e.subject.behaviourGrade||"-"),1))]),Hn("div",zo,[u[20]||(u[20]=Hn("span",{class:"optional-grade-label"},"Att:",-1)),e.editMode&&e.isStaff&&l.value?(Dn(),Vn("input",{key:0,type:"text",class:"optional-grade-input attendance-input",value:e.subject.subjectAttendance?Math.round(100*e.subject.subjectAttendance):"",onInput:u[10]||(u[10]=e=>(e=>{const t=parseFloat(e);isNaN(t)?n("update",a.subject.id,"subjectAttendance",null):n("update",a.subject.id,"subjectAttendance",t/100)})(e.target.value)),placeholder:"%"},null,40,Bo)):(Dn(),Vn("span",Ko,J((g=e.subject.subjectAttendance,null==g?"N/A":`${Math.round(100*g)}%`)),1))])])):Qn("",!0),s.value?(Dn(),Vn("div",{key:1,class:"meg-info-overlay",onClick:u[13]||(u[13]=e=>s.value=!1)},[Hn("div",{class:"meg-info-modal",onClick:u[12]||(u[12]=so(()=>{},["stop"]))},[Hn("span",{class:"modal-close",onClick:u[11]||(u[11]=e=>s.value=!1)},""),u[23]||(u[23]=Hn("h4",null,"Understanding MEG (Minimum Expected Grade)",-1)),e.isStaff?(Dn(),Vn("p",Wo,[...u[21]||(u[21]=[Hn("strong",null,"Teacher View:",-1),Xn(" The MEG provides a baseline expectation derived from national data for students with similar prior attainment. Schools can adjust ambition levels - some choose aspirational targets to drive achievement. Consider all factors when setting targets: prior attainment, subject difficulty, student circumstances, and school context. ",-1)])])):(Dn(),Vn("p",Ho,[...u[22]||(u[22]=[Hn("strong",null,"Your MEG:",-1),Xn(" This represents an aspirational grade based on how students with similar GCSE results have performed nationally. It's a starting point showing what's typically achievable. Many students exceed their MEG! Check your Subject Target Grade (STG) for a more personalized target. ",-1)])]))])])):Qn("",!0)],6);var g}}},[["__scopeId","data-v-684ff143"]]),Jo={class:"ks4-header"},Xo=["title"],Zo={key:0,class:"ks4-qual"},Qo={class:"ks4-grades"},es={key:0,class:"ks4-pill"},ts={class:"ks4-pill-value ks4-pill-value-strong"},as=["value"],ns={key:1},rs={class:"ks4-pill"},os={class:"ks4-pill-value"},ss=["value"],is={key:1},ls={class:"ks4-pill"},cs={class:"ks4-pill-value"},ds=["value"],us={key:1},fs={class:"ks4-pill"},ps={class:"ks4-pill-value"},vs=["value"],gs={key:1},ms={class:"ks4-pill"},hs={class:"ks4-pill-value"},bs=["value"],ys={key:1},xs=fo({__name:"SubjectCardKs4",props:{subject:{type:Object,required:!0},editMode:{type:Boolean,default:!1},isStaff:{type:Boolean,default:!1},allowStudentTargetEdit:{type:Boolean,default:!1},showPredicted:{type:Boolean,default:!0}},emits:["update"],setup(e,{emit:t}){const a=e,n=t,r=e=>{if((e=>{if(null==e)return!0;const t=String(e).trim();if(!t)return!0;const a=t.toUpperCase();return"N/A"===a||"NA"===a||"-"===t||""===t})(e))return"-";const t=String(e).trim();return(a.subject.subjectName||"").toString().toLowerCase().includes("combined science")?(e=>{if(null==e)return e;const t=String(e).trim();if(!t)return t;const a=t.match(/^([A-Za-z0-9+*]+)\s*[-/ ]\s*\1$/);return a?a[1]:t})(t):t},o=yr(()=>!(!a.subject.id&&!a.subject.originalRecordId)),s=yr(()=>{const e=(a.subject.subjectName||"").toString().trim();return e?e.replace(/^\s*(?:[a-z]{1,2}\d?\s*-\s*)+/i,"").trim()||e:"Subject"}),i=yr(()=>{const e=(a.subject.examType||"").toString().trim();if(!e)return"";const t=e.toLowerCase();return t.includes("gcse")?"GCSE":t.includes("level 2")||t.includes("l2")?"Level 2":""}),l=yr(()=>{const e=(a.subject.subjectName||a.subject.originalRecordId||a.subject.id||"").toString(),t=["#24d05a","#7CFF9A","#1fbf8f","#2ee59d","#00c853","#6dd400"];let n=0;for(let a=0;a<e.length;a++)n=(n<<5)-n+e.charCodeAt(a);return t[Math.abs(n)%t.length]}),c=yr(()=>({"--ks4-accent":l.value})),d=(e,t)=>{const r=a.subject.id||a.subject.originalRecordId;n("update",r,e,t)};return(t,a)=>(Dn(),Vn("div",{class:"ks4-card",style:F(c.value)},[Hn("div",Jo,[Hn("div",{class:"ks4-subject",title:s.value},J(s.value),9,Xo),i.value?(Dn(),Vn("div",Zo,J(i.value),1)):Qn("",!0)]),Hn("div",Qo,[e.showPredicted?(Dn(),Vn("div",es,[a[5]||(a[5]=Hn("div",{class:"ks4-pill-label"},"Pred",-1)),Hn("div",ts,[e.editMode&&e.isStaff&&o.value?(Dn(),Vn("input",{key:0,class:"ks4-input",type:"text",value:e.subject.minimumExpectedGrade||"",onInput:a[0]||(a[0]=e=>d("minimumExpectedGrade",e.target.value)),placeholder:"-"},null,40,as)):(Dn(),Vn("span",ns,J(r(e.subject.minimumExpectedGrade)),1))])])):Qn("",!0),Hn("div",rs,[a[6]||(a[6]=Hn("div",{class:"ks4-pill-label"},"Cur",-1)),Hn("div",os,[e.editMode&&e.isStaff&&o.value?(Dn(),Vn("input",{key:0,class:"ks4-input",type:"text",value:e.subject.currentGrade||"",onInput:a[1]||(a[1]=e=>d("currentGrade",e.target.value)),placeholder:"-"},null,40,ss)):(Dn(),Vn("span",is,J(r(e.subject.currentGrade)),1))])]),Hn("div",ls,[a[7]||(a[7]=Hn("div",{class:"ks4-pill-label"},"Tar",-1)),Hn("div",cs,[e.editMode&&o.value&&(e.isStaff||e.allowStudentTargetEdit)?(Dn(),Vn("input",{key:0,class:"ks4-input",type:"text",value:e.subject.targetGrade||"",onInput:a[2]||(a[2]=e=>d("targetGrade",e.target.value)),placeholder:"-"},null,40,ds)):(Dn(),Vn("span",us,J(r(e.subject.targetGrade)),1))])]),Hn("div",fs,[a[8]||(a[8]=Hn("div",{class:"ks4-pill-label"},"Eff",-1)),Hn("div",ps,[e.editMode&&e.isStaff&&o.value?(Dn(),Vn("input",{key:0,class:"ks4-input",type:"text",value:e.subject.effortGrade||"",onInput:a[3]||(a[3]=e=>d("effortGrade",e.target.value)),placeholder:"-"},null,40,vs)):(Dn(),Vn("span",gs,J(r(e.subject.effortGrade)),1))])]),Hn("div",ms,[a[9]||(a[9]=Hn("div",{class:"ks4-pill-label"},"Beh",-1)),Hn("div",hs,[e.editMode&&e.isStaff&&o.value?(Dn(),Vn("input",{key:0,class:"ks4-input",type:"text",value:e.subject.behaviourGrade||"",onInput:a[4]||(a[4]=e=>d("behaviourGrade",e.target.value)),placeholder:"-"},null,40,bs)):(Dn(),Vn("span",ys,J(r(e.subject.behaviourGrade)),1))])])])],4))}},[["__scopeId","data-v-14438103"]]),ks={key:0},ws={key:1},_s={key:2},Ss=fo({__name:"InfoModal",props:{isStaff:{type:Boolean,default:!1},isKs4:{type:Boolean,default:!1}},emits:["close"],setup:e=>(t,a)=>(Dn(),Vn("div",{class:"info-modal-overlay",onClick:a[2]||(a[2]=e=>t.$emit("close"))},[Hn("div",{class:"info-modal-content",onClick:a[1]||(a[1]=so(()=>{},["stop"]))},[Hn("span",{class:"modal-close",onClick:a[0]||(a[0]=e=>t.$emit("close"))},""),a[6]||(a[6]=Hn("h3",null,"Understanding Your Grades",-1)),e.isKs4?(Dn(),Vn("div",ks,[...a[3]||(a[3]=[Hn("h4",null,"1) Predicted Grade:",-1),Hn("p",null," This is your predicted grade for this subject. Schools may choose to show/hide predicted grades, and staff may update them during the year. ",-1),Hn("h4",null,"2) Current Grade:",-1),Hn("p",null," This is the grade you're working at right now, based on your recent work, tests, and classroom performance. ",-1),Hn("h4",null,"3) Target Grade:",-1),Hn("p",null," This is the grade your teachers believe you can realistically achieve with consistent effort. ",-1),Hn("h4",null,"4) Effort & Behaviour:",-1),Hn("p",null," These indicators help you understand habits that support learning. Improving effort and behaviour often improves grades too. ",-1)])])):e.isStaff?(Dn(),Vn("div",_s,[...a[5]||(a[5]=[Zn("<h4 data-v-97c48d28>1) Subject Target Grade (STG) - Teacher Explainer:</h4><p data-v-97c48d28> The STG provides a more nuanced target by applying subject-specific value-added (VA) factors to the base MEG calculation. These VA factors, derived from national data, reflect the relative difficulty and grade distribution patterns of individual subjects. </p><p data-v-97c48d28> Schools can select different benchmark levels - while many use standard national benchmarks, some may opt for more aspirational targets. The calculation multiplies the student&#39;s base expected points by the subject&#39;s VA factor, then converts back to a grade. </p><p data-v-97c48d28><strong data-v-97c48d28>Most effective target-setting considers:</strong> prior attainment, subject difficulty, individual student needs, teaching quality, and school context. </p><h4 data-v-97c48d28>2) Current Grade (Teacher Input Required):</h4><p data-v-97c48d28>When entering this grade, assess based on:</p><ul data-v-97c48d28><li data-v-97c48d28>Recent formal and informal assessments</li><li data-v-97c48d28>Quality and consistency of classwork and homework</li><li data-v-97c48d28>Participation and demonstration of subject knowledge</li><li data-v-97c48d28>Your professional judgment of current mastery</li></ul><p data-v-97c48d28>This should reflect genuine current performance, not hoped-for future performance.</p><h4 data-v-97c48d28>3) Target Grade (Teacher Input Required):</h4><p data-v-97c48d28>When setting this grade, consider:</p><ul data-v-97c48d28><li data-v-97c48d28>The student&#39;s STG as a reference point</li><li data-v-97c48d28>Demonstrated potential and engagement</li><li data-v-97c48d28>Contextual factors affecting performance</li><li data-v-97c48d28>Historical progression patterns</li><li data-v-97c48d28>Department expectations and benchmarks</li></ul><p data-v-97c48d28>The target should be ambitious yet achievable with appropriate effort and support.</p>",12)])])):(Dn(),Vn("div",ws,[...a[4]||(a[4]=[Hn("h4",null,"1) Subject Target Grade (STG):",-1),Hn("p",null," Your STG is a personalized target that considers your GCSE results AND the specific subject you're studying. Different subjects have different difficulty levels - some tend to award higher grades than others. Your STG accounts for this by applying subject-specific adjustments to give you a realistic and fair target. ",-1),Hn("p",null," Your school may have chosen to set these targets at different ambition levels to inspire you to achieve your best. Use your STG as a motivating target to work towards - with dedication and good support, you can exceed it! ",-1),Hn("h4",null,"2) Current Grade:",-1),Hn("p",null," This is the grade you're working at right now, based on your recent work, tests, and classroom performance. Your teachers assess everything you've done to determine where you currently stand. This helps you see your progress and identify areas to focus on. ",-1),Hn("h4",null,"3) Target Grade:",-1),Hn("p",null," This is the grade your teachers believe you can realistically achieve with consistent effort. It's challenging but possible, based on your teachers' experience and understanding of your potential. This target gives you something specific to aim for as you continue your studies. ",-1)])]))])]))},[["__scopeId","data-v-97c48d28"]]);async function js(e,t,a){try{console.log("[Academic Profile API] Updating subject:",e,t);let r=null;try{if("undefined"!=typeof Knack&&Knack.getUserRoles){const e=Knack.getUserRoles()||[];r=e.some(e=>e&&"Student"===e.name||"string"==typeof e&&e.toLowerCase().includes("student"))?"student":"staff"}}catch(n){}const o=await fetch(`${a}/api/academic-profile/subject/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...r?{"X-User-Role":r}:{}},body:JSON.stringify(t)});if(!o.ok){let e=`API error: ${o.status}`;try{const t=await o.json();t&&(t.error||t.message)&&(e=t.error||t.message)}catch(tc){}throw new Error(e)}const s=await o.json();return console.log("[Academic Profile API] Update result:",s),s}catch(r){return console.error("[Academic Profile API] Update error:",r),{success:!1,error:r.message}}}const Cs={class:"ucas-modal"},As={class:"ucas-header"},Ps={class:"ucas-header-left"},Ts={class:"ucas-course-row"},Es=["disabled"],Us={key:0,value:""},Os=["value"],Ms=["href"],Is={class:"ucas-header-right"},Ns=["disabled"],Gs=["disabled"],qs={class:"ucas-body"},Ds={class:"ucas-top-grid"},Fs={class:"ucas-card"},Rs={key:0,class:"ucas-empty"},Ls={key:1,class:"ucas-subjects-grid"},Vs=["title"],$s=["disabled","value","onInput"],zs={class:"ucas-card"},Bs={class:"ucas-metrics"},Ks={class:"ucas-metric"},Ws={class:"ucas-metric-sub"},Hs={class:"ucas-metric"},Ys={key:0,class:"ucas-metric-sub"},Js={key:1,class:"ucas-metric-sub"},Xs={class:"ucas-preview"},Zs={class:"ucas-preview-box"},Qs={class:"ucas-questions"},ei={class:"ucas-q"},ti={class:"ucas-q-head"},ai={class:"ucas-q-count"},ni=["disabled","value"],ri={class:"ucas-q"},oi={class:"ucas-q-head"},si={class:"ucas-q-count"},ii=["disabled","value"],li={class:"ucas-q"},ci={class:"ucas-q-head"},di={class:"ucas-q-count"},ui=["disabled","value"],fi={key:0,class:"ucas-comments"},pi={key:0,class:"ucas-comment-compose"},vi={class:"ucas-comment-actions"},gi=["disabled"],mi=["disabled"],hi={key:1,class:"ucas-empty"},bi={key:2,class:"ucas-comment-list"},yi={class:"ucas-comment-meta"},xi={class:"ucas-comment-author"},ki={class:"ucas-comment-date"},wi={class:"ucas-comment-body"},_i={class:"ucas-footer"},Si={class:"ucas-footer-left"},ji={key:0,class:"ucas-warn"},Ci={key:1,class:"ucas-warn"},Ai={class:"ucas-footer-right"},Pi={key:0,class:"ucas-toast"},Ti=4e3,Ei=350,Ui=fo({__name:"UcasApplicationModal",props:{studentEmail:{type:String,default:""},academicYear:{type:String,default:""},subjects:{type:Array,default:()=>[]},offers:{type:Array,default:()=>[]},topOffer:{type:Object,default:null},apiUrl:{type:String,default:""},canEdit:{type:Boolean,default:!1},commentsEnabled:{type:Boolean,default:!0},canAddComment:{type:Boolean,default:!1},staffEmail:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const a=e,n=t,r=yt("");let o=null;function s(e){r.value=e,o&&clearTimeout(o),o=setTimeout(()=>r.value="",2200)}function i(e){return null==e?"":String(e)}function l(e){return`${i(null==e?void 0:e.universityName).trim().toLowerCase()}|${i(null==e?void 0:e.courseTitle).trim().toLowerCase()}|${i(null==e?void 0:e.courseLink).trim().toLowerCase()}`.replace(/\s+/g," ").trim()}const c=yr(()=>(Array.isArray(a.offers)?a.offers:[]).map(e=>({key:l(e),ranking:(null==e?void 0:e.ranking)??1,universityName:i(null==e?void 0:e.universityName).trim()||"University",courseTitle:i(null==e?void 0:e.courseTitle).trim(),courseLink:i(null==e?void 0:e.courseLink).trim()})).filter(e=>e.key).sort((e,t)=>(Number(e.ranking)||999)-(Number(t.ranking)||999))),d=yt(""),u=yr(()=>c.value.find(e=>e.key===d.value)||null),f=lt({q1:"",q2:"",q3:""}),p=lt({}),v=yt([]),g=yt(""),m=yt(!1),h=yr(()=>(Array.isArray(a.subjects)?a.subjects:[]).slice(0,5).map((e,t)=>{const a=i((null==e?void 0:e.id)||(null==e?void 0:e.originalRecordId)||(null==e?void 0:e.position)||(null==e?void 0:e.subjectName)||`idx_${t}`),n=i(null==e?void 0:e.subjectName).trim()||"Subject";return{key:a,label:n.replace(/^\s*(?:[a-z]{1,2}\d?\s*-\s*)+/i,"").trim()||n}})),b=yr(()=>{const e=d.value||"";return e&&p[e]||{}});const y=yr(()=>f.q1.length+f.q2.length+f.q3.length),x=yr(()=>Math.max(0,Ti-y.value)),k=yr(()=>[i(f.q1).trim(),i(f.q2).trim(),i(f.q3).trim()].filter(Boolean).join("\n\n"));function w(e,t){if(!a.canEdit)return;const n=i(t),r=f[e].length,o=y.value-r,s=Math.max(0,Ti-o);f[e]=n.slice(0,s)}function _(){try{if(!k.value)return;navigator.clipboard.writeText(k.value),s("Copied to clipboard")}catch(e){s("Copy failed (browser blocked)")}}function S(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleString()}catch(t){return""}}const j=yr(()=>`vespa:ucas_application:v1:${(a.studentEmail||"").toLowerCase()}:${a.academicYear||"current"}`);let C=null;bn(()=>[f.q1,f.q2,f.q3,d.value,JSON.stringify(p),j.value],()=>{C&&clearTimeout(C),C=setTimeout(()=>function(){try{localStorage.setItem(j.value,JSON.stringify({updatedAt:(new Date).toISOString(),selectedCourseKey:d.value,answers:{...f},requirementsByCourse:{...p}}))}catch(e){}}(),450)});const A=yt(!1);async function P(){if(!a.apiUrl||!a.studentEmail)return;const e=await async function(e,t,a=null){try{const r=`${t}/api/academic-profile/${encodeURIComponent(e)}/ucas-application`,o=new URLSearchParams;a&&o.append("academic_year",a);const s=await fetch(o.toString()?`${r}?${o.toString()}`:r,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){if(404===s.status)return{success:!0,data:null};let e=`API error: ${s.status}`;try{const t=await s.json();t&&(t.error||t.message)&&(e=t.error||t.message)}catch(n){}throw new Error(e)}return await s.json()}catch(r){return console.error("[Academic Profile API] fetchUcasApplication error:",r),{success:!1,error:r.message||"Failed to fetch UCAS Application"}}}(a.studentEmail,a.apiUrl,a.academicYear||null);if(!(null==e?void 0:e.success))return;const t=e.data||{};if(t.answers&&(f.q1=i(t.answers.q1),f.q2=i(t.answers.q2),f.q3=i(t.answers.q3)),t.requirementsByCourse&&"object"==typeof t.requirementsByCourse)for(const[a,n]of Object.entries(t.requirementsByCourse))p[a]=n&&"object"==typeof n?n:{};v.value=Array.isArray(t.staffComments)?t.staffComments:[],t.selectedCourseKey&&(d.value=i(t.selectedCourseKey))}async function T(){if(a.canEdit&&a.apiUrl&&a.studentEmail){A.value=!0;try{const e={selectedCourseKey:d.value||null,answers:{q1:f.q1,q2:f.q2,q3:f.q3},requirementsByCourse:{...p}},t=await async function(e,t,a,n=null){try{const o=`${a}/api/academic-profile/${encodeURIComponent(e)}/ucas-application`;let s=null;try{if("undefined"!=typeof Knack&&Knack.getUserRoles){s=(Knack.getUserRoles()||[]).some(e=>e&&"Student"===e.name||"string"==typeof e&&e.toLowerCase().includes("student"))?"student":"staff"}}catch(r){}const i=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...s?{"X-User-Role":s}:{}},body:JSON.stringify({academicYear:n,...t})});if(!i.ok){let e=`API error: ${i.status}`;try{const t=await i.json();t&&(t.error||t.message)&&(e=t.error||t.message)}catch(r){}throw new Error(e)}return await i.json()}catch(o){return console.error("[Academic Profile API] saveUcasApplication error:",o),{success:!1,error:o.message||"Failed to save UCAS Application"}}}(a.studentEmail,e,a.apiUrl,a.academicYear||null);if(!(null==t?void 0:t.success))throw new Error((null==t?void 0:t.error)||"Save failed");s("Saved")}catch(tc){s((null==tc?void 0:tc.message)||"Save failed")}finally{A.value=!1}}}async function E(){var e;if(!a.canAddComment)return;const t=g.value.trim();if(t){m.value=!0;try{const n=await async function(e,t,a,n=null){try{const o=`${a}/api/academic-profile/${encodeURIComponent(e)}/ucas-application/comment`;let s=null;try{if("undefined"!=typeof Knack&&Knack.getUserRoles){s=(Knack.getUserRoles()||[]).some(e=>e&&"Student"===e.name||"string"==typeof e&&e.toLowerCase().includes("student"))?"student":"staff"}}catch(r){}const i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...s?{"X-User-Role":s}:{}},body:JSON.stringify({academicYear:n,...t||{}})});if(!i.ok){let e=`API error: ${i.status}`;try{const t=await i.json();t&&(t.error||t.message)&&(e=t.error||t.message)}catch(r){}throw new Error(e)}return await i.json()}catch(o){return console.error("[Academic Profile API] addUcasApplicationComment error:",o),{success:!1,error:o.message||"Failed to add comment"}}}(a.studentEmail,{comment:t,staffEmail:a.staffEmail||null},a.apiUrl,a.academicYear||null);if(!(null==n?void 0:n.success))throw new Error((null==n?void 0:n.error)||"Comment failed");v.value=Array.isArray(null==(e=n.data)?void 0:e.staffComments)?n.data.staffComments:v.value,g.value="",s("Comment posted")}catch(tc){s((null==tc?void 0:tc.message)||"Comment failed")}finally{m.value=!1}}}return va(async()=>{const e=a.topOffer||(a.offers&&a.offers.length?a.offers[0]:null);e&&(d.value=l(e)),function(){try{const e=localStorage.getItem(j.value);if(!e)return;const t=JSON.parse(e);if((null==t?void 0:t.answers)&&(f.q1=i(t.answers.q1),f.q2=i(t.answers.q2),f.q3=i(t.answers.q3)),(null==t?void 0:t.requirementsByCourse)&&"object"==typeof t.requirementsByCourse)for(const[a,n]of Object.entries(t.requirementsByCourse))p[a]=n&&"object"==typeof n?n:{};(null==t?void 0:t.selectedCourseKey)&&(d.value=i(t.selectedCourseKey))}catch(e){}}(),await P(),!d.value&&e&&(d.value=l(e))}),(t,o)=>{var s;return Dn(),Vn("div",{class:"ucas-overlay",role:"dialog","aria-modal":"true","aria-label":"UCAS Application",onClick:o[7]||(o[7]=so(e=>n("close"),["self"]))},[Hn("div",Cs,[Hn("header",As,[Hn("div",Ps,[o[9]||(o[9]=Hn("div",{class:"ucas-title"},"UCAS Application",-1)),Hn("div",Ts,[o[8]||(o[8]=Hn("div",{class:"ucas-course-label"},"Course",-1)),Jt(Hn("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),class:"ucas-select",disabled:0===c.value.length},[0===c.value.length?(Dn(),Vn("option",Us,"No offers yet")):Qn("",!0),(Dn(!0),Vn(On,null,Sa(c.value,e=>(Dn(),Vn("option",{key:e.key,value:e.key}," #"+J(e.ranking)+" "+J(e.universityName)+"  "+J(e.courseTitle||"Course"),9,Os))),128))],8,Es),[[to,d.value]]),(null==(s=u.value)?void 0:s.courseLink)?(Dn(),Vn("a",{key:0,class:"ucas-btn ucas-btn-secondary",href:u.value.courseLink,target:"_blank",rel:"noopener noreferrer",title:"Open course link in a new tab"},"  Course link ",8,Ms)):Qn("",!0)])]),Hn("div",Is,[o[10]||(o[10]=Hn("a",{class:"ucas-btn ucas-btn-secondary",href:"https://www.ucas.com/",target:"_blank",rel:"noopener noreferrer",title:"Open UCAS in a new tab"},"  UCAS search ",-1)),Hn("button",{class:"ucas-btn ucas-btn-secondary",type:"button",onClick:_,disabled:!k.value},"  Copy statement ",8,Ns),Hn("button",{class:"ucas-btn ucas-btn-primary",type:"button",onClick:T,disabled:A.value||y.value>Ti||y.value<Ei||!e.studentEmail},J(A.value?"Saving":" Save"),9,Gs),Hn("button",{class:"ucas-btn ucas-btn-close",type:"button",onClick:o[1]||(o[1]=e=>n("close"))},"")])]),Hn("main",qs,[Hn("section",Ds,[Hn("div",Fs,[o[13]||(o[13]=Hn("div",{class:"ucas-card-title"},"Subjects + offer requirements",-1)),o[14]||(o[14]=Hn("div",{class:"ucas-card-hint"},"Enter the grades required by the university for this course (max 5 subjects).",-1)),0===h.value.length?(Dn(),Vn("div",Rs," No subjects found in the academic profile. ")):(Dn(),Vn("div",Ls,[o[11]||(o[11]=Hn("div",{class:"ucas-subjects-head"},"Subject",-1)),o[12]||(o[12]=Hn("div",{class:"ucas-subjects-head"},"Offer",-1)),(Dn(!0),Vn(On,null,Sa(h.value,t=>(Dn(),Vn(On,{key:t.key},[Hn("div",{class:"ucas-subject-name",title:t.label},J(t.label),9,Vs),Hn("div",null,[Hn("input",{class:"ucas-input",type:"text",disabled:!e.canEdit,value:b.value[t.key]||"",onInput:e=>function(e,t){if(!a.canEdit)return;const n=d.value||"";n&&(p[n]||(p[n]={}),p[n][e]=i(t).slice(0,24))}(t.key,e.target.value),placeholder:"e.g. AAA"},null,40,$s)])],64))),128))]))]),Hn("div",zs,[o[18]||(o[18]=Hn("div",{class:"ucas-card-title"},"Character budget",-1)),Hn("div",Bs,[Hn("div",Ks,[o[15]||(o[15]=Hn("div",{class:"ucas-metric-label"},"Total",-1)),Hn("div",{class:z(["ucas-metric-value",{bad:y.value>=Ti}])},J(y.value)+" / "+J(Ti),3),Hn("div",Ws,"Remaining: "+J(x.value),1)]),Hn("div",Hs,[o[16]||(o[16]=Hn("div",{class:"ucas-metric-label"},"Minimum",-1)),Hn("div",{class:z(["ucas-metric-value",{bad:y.value>0&&y.value<Ei}])},J(Ei)+" total ",2),y.value<Ei?(Dn(),Vn("div",Ys,"Not met yet")):(Dn(),Vn("div",Js,"Ready"))])]),Hn("div",Xs,[o[17]||(o[17]=Hn("div",{class:"ucas-preview-head"},[Hn("div",{class:"ucas-preview-title"},"Preview (combined statement)"),Hn("div",{class:"ucas-preview-hint"},"This is how it will be read as one statement.")],-1)),Hn("div",Zs,J(k.value||"Start typing below"),1)])])]),Hn("section",Qs,[Hn("div",ei,[Hn("div",ti,[o[19]||(o[19]=Hn("div",{class:"ucas-q-title"},"1) Why do you want to study this course or subject?",-1)),Hn("div",ai,J(f.q1.length)+" chars",1)]),Hn("textarea",{class:"ucas-textarea",disabled:!e.canEdit,value:f.q1,onInput:o[2]||(o[2]=e=>w("q1",e.target.value)),placeholder:"Be specific. What sparked your interest, and why this course?"},null,40,ni)]),Hn("div",ri,[Hn("div",oi,[o[20]||(o[20]=Hn("div",{class:"ucas-q-title"},"2) How have your qualifications and studies prepared you?",-1)),Hn("div",si,J(f.q2.length)+" chars",1)]),Hn("textarea",{class:"ucas-textarea",disabled:!e.canEdit,value:f.q2,onInput:o[3]||(o[3]=e=>w("q2",e.target.value)),placeholder:"Use evidence: topics, projects, what you learned, and how it links."},null,40,ii)]),Hn("div",li,[Hn("div",ci,[o[21]||(o[21]=Hn("div",{class:"ucas-q-title"},"3) What have you done outside education to prepare, and why is it useful?",-1)),Hn("div",di,J(f.q3.length)+" chars",1)]),Hn("textarea",{class:"ucas-textarea",disabled:!e.canEdit,value:f.q3,onInput:o[4]||(o[4]=e=>w("q3",e.target.value)),placeholder:"Super-curricular, work experience, reading, volunteering, clubs what did it develop?"},null,40,ui)])]),e.commentsEnabled?(Dn(),Vn("section",fi,[o[22]||(o[22]=Hn("div",{class:"ucas-card-title"},"Tutor comments",-1)),o[23]||(o[23]=Hn("div",{class:"ucas-card-hint"},"Staff can add comments; students can read them.",-1)),e.canAddComment?(Dn(),Vn("div",pi,[Jt(Hn("textarea",{"onUpdate:modelValue":o[5]||(o[5]=e=>g.value=e),class:"ucas-textarea ucas-textarea-sm",placeholder:"Add a comment"},null,512),[[eo,g.value]]),Hn("div",vi,[Hn("button",{class:"ucas-btn ucas-btn-secondary",type:"button",onClick:o[6]||(o[6]=e=>g.value=""),disabled:m.value},"Clear",8,gi),Hn("button",{class:"ucas-btn ucas-btn-primary",type:"button",onClick:E,disabled:m.value||!g.value.trim()},J(m.value?"Posting":"Post comment"),9,mi)])])):Qn("",!0),0===v.value.length?(Dn(),Vn("div",hi,"No comments yet.")):(Dn(),Vn("div",bi,[(Dn(!0),Vn(On,null,Sa(v.value,e=>(Dn(),Vn("div",{key:e.id,class:"ucas-comment"},[Hn("div",yi,[Hn("span",xi,J(e.staffEmail||"Staff"),1),Hn("span",ki,J(S(e.createdAt)),1)]),Hn("div",wi,J(e.comment),1)]))),128))]))])):Qn("",!0)]),Hn("footer",_i,[Hn("div",Si,[Hn("div",null,[Hn("strong",null,J(y.value),1),Xn(" / "+J(Ti)+" (Remaining: "+J(x.value)+")",1)]),y.value>0&&y.value<Ei?(Dn(),Vn("div",ji," Add "+J(Ei-y.value)+" more characters to reach the minimum. ",1)):Qn("",!0),y.value>=Ti?(Dn(),Vn("div",Ci,"Youve reached the maximum character limit.")):Qn("",!0)]),Hn("div",Ai,[r.value?(Dn(),Vn("span",Pi,J(r.value),1)):Qn("",!0)])])])])}}},[["__scopeId","data-v-d2989608"]]),Oi={class:"vespa-profile-display"},Mi={class:"vespa-section-title"},Ii={style:{display:"inline-flex","align-items":"center"}},Ni={class:"profile-actions"},Gi=["title"],qi=["title"],Di=["title"],Fi=["title"],Ri=["title"],Li={class:"profile-name"},Vi={class:"profile-items"},$i={class:"profile-item"},zi={class:"profile-value"},Bi={key:0,class:"profile-item"},Ki={class:"profile-value"},Wi={key:1,class:"profile-item"},Hi={class:"profile-value"},Yi={key:2,class:"profile-item"},Ji={class:"profile-value"},Xi={key:3,class:"profile-item"},Zi={class:"profile-value"},Qi={key:4,class:"profile-item"},el={class:"profile-value"},tl={class:"subjects-container"},al={key:0,class:"no-subjects"},nl={key:1,class:"university-offers"},rl={class:"university-offers-header"},ol={class:"university-offers-actions"},sl=["disabled","title"],il=["disabled"],ll=["title"],cl={class:"offer-line"},dl={class:"offer-rank"},ul={class:"offer-uni"},fl={key:0,class:"offer-course"},pl={class:"offer-meta"},vl={key:0,class:"offer-pill"},gl={key:1,class:"offer-pill"},ml=["href"],hl={key:0,class:"offer-expand-hint"},bl={key:1,class:"university-offers-empty"},yl={key:2,class:"university-offers-list","aria-label":"All university offers"},xl={class:"offer-line"},kl={class:"offer-rank"},wl={class:"offer-uni"},_l={key:0,class:"offer-course"},Sl={class:"offer-meta"},jl={key:0,class:"offer-pill"},Cl={key:1,class:"offer-pill"},Al=["href"],Pl=["title"],Tl={key:2,class:"saving-overlay"},El={class:"offers-modal"},Ul={class:"offers-modal-body"},Ol={class:"offers-grid"},Ml=["onUpdate:modelValue"],Il=["onUpdate:modelValue"],Nl=["onUpdate:modelValue"],Gl=["onUpdate:modelValue"],ql=["onUpdate:modelValue"],Dl=["onUpdate:modelValue"],Fl=["onClick"],Rl={class:"offers-modal-actions"},Ll=["disabled"],Vl={class:"offers-modal-footer"},$l=["disabled"],zl=fo({__name:"AcademicProfile",props:{student:{type:Object,required:!0},subjects:{type:Array,default:()=>[]},updatedAt:{type:String,default:null},academicYear:{type:String,default:null},editable:{type:Boolean,default:!1},offersEditable:{type:Boolean,default:!1},mode:{type:String,default:"inline"},dataSource:{type:String,default:"unknown"},uiDefaults:{type:Object,default:null}},emits:["reload"],setup(e,{emit:t}){const a=e,n=t,r=yt(!1),o=yt(!1),s=yt(!1),i=yt({}),l=yt(!1),c=yt(!1),d=yt(!1),u=yt(!1),f=yt(!1),p=yt(!1),v=yt(!1),g=yt([]),m=yt(!1),h=()=>{m.value=!0},b=["object_5","object_7","object_18","object_78"],y=["tutor","staff","admin","head","teacher","subject"],x=yr(()=>{if("undefined"==typeof Knack)return!1;const e=(e=>Array.isArray(e)?e.flatMap(e=>{if(!e)return[];if("string"==typeof e)return[e];const t=[];return e.id&&t.push(e.id),e.key&&t.push(e.key),e.name&&t.push(e.name),t}).map(e=>String(e).trim().toLowerCase()).filter(Boolean):[])(Knack.getUserRoles?Knack.getUserRoles():[]),t=e.some(e=>b.includes(e)),a=e.some(e=>y.some(t=>e.includes(t)));return t||a}),k=yr(()=>!x.value),w=yr(()=>{var e;try{return"undefined"!=typeof Knack&&Knack.getUserAttributes?((null==(e=Knack.getUserAttributes())?void 0:e.email)||"").toString().trim():""}catch(t){return""}}),_=yr(()=>{var e;const t=((null==(e=a.student)?void 0:e.yearGroup)??"").toString().match(/(\d{1,2})/),n=t?parseInt(t[1],10):NaN;return Number.isFinite(n)&&n<=11}),S=yr(()=>{const e=a.uiDefaults&&Object.prototype.hasOwnProperty.call(a.uiDefaults,"studentsShowMeg")?a.uiDefaults.studentsShowMeg:void 0;return null==e||!!e}),j=yr(()=>{const e=a.uiDefaults&&Object.prototype.hasOwnProperty.call(a.uiDefaults,"studentsShowStg")?a.uiDefaults.studentsShowStg:void 0;return null!=e&&!!e});bn([S,j,k],()=>_.value?k.value?(u.value=S.value,l.value=!1,void(c.value=!1)):void(d.value||(u.value=S.value,l.value=!1,c.value=!1)):k.value?(l.value=S.value,void(c.value=j.value)):void(d.value||(l.value=S.value,c.value=j.value)),{immediate:!0});const C=()=>{d.value=!0,l.value=!l.value},A=()=>{d.value=!0,c.value=!c.value},P=()=>{d.value=!0,u.value=!u.value},T=e=>{if(null==e)return"";if(Array.isArray(e))return e.length?T(e[0]):"";if("object"==typeof e){for(const t of["identifier","name","text","label","value"])if(e&&e[t])return String(e[t]).trim();try{return JSON.stringify(e)}catch(tc){return""}}return String(e).trim()},E=yr(()=>{var e;return T(null==(e=a.student)?void 0:e.name)||"Student"}),U=yr(()=>{var e;return T(null==(e=a.student)?void 0:e.school)||"N/A"}),O=yr(()=>{var e;return T(null==(e=a.student)?void 0:e.yearGroup)}),M=yr(()=>{var e;return T(null==(e=a.student)?void 0:e.tutorGroup)}),I=e=>{const t=T((null==e?void 0:e.universityName)??(null==e?void 0:e.university_name)),a=T((null==e?void 0:e.courseTitle)??(null==e?void 0:e.course_title)),n=T((null==e?void 0:e.courseLink)??(null==e?void 0:e.course_link)),r=T((null==e?void 0:e.offer)??(null==e?void 0:e.offerText)??(null==e?void 0:e.offer_text)),o=(null==e?void 0:e.ucasPoints)??(null==e?void 0:e.ucas_points),s=(null==e?void 0:e.ranking)??(null==e?void 0:e.rank),i=Number.isFinite(Number(s))?parseInt(s,10):1,l=null==o||""===String(o).trim()?null:parseInt(o,10);return{_key:`${Date.now()}-${Math.random().toString(16).slice(2)}`,universityName:t,courseTitle:a,courseLink:n,offer:r,ucasPoints:Number.isFinite(l)?l:null,ranking:Math.min(5,Math.max(1,Number.isFinite(i)?i:1))}},N=yr(()=>{var e;const t=null==(e=a.student)?void 0:e.universityOffers;return t&&Array.isArray(t)?t.map(I).filter(e=>e.universityName||e.courseTitle||e.courseLink||e.offer||null!==e.ucasPoints&&void 0!==e.ucasPoints).slice(0,5):[]}),G=yr(()=>[...N.value].sort((e,t)=>(e.ranking||999)-(t.ranking||999)).map((e,t)=>({...e,_key:e._key||`${t}`}))),q=yr(()=>G.value.length?G.value[0]:null),D=()=>{f.value=!f.value},F=yr(()=>{if(!a.updatedAt)return"";const e=new Date(a.updatedAt);return isNaN(e.getTime())?"":e.toLocaleString()}),R=()=>{g.value=G.value.map(e=>({_key:e._key||`${Date.now()}-${Math.random().toString(16).slice(2)}`,universityName:e.universityName||"",courseTitle:e.courseTitle||"",courseLink:e.courseLink||"",offer:e.offer||"",ucasPoints:null===e.ucasPoints||void 0===e.ucasPoints?"":String(e.ucasPoints),ranking:e.ranking||1})),0===g.value.length&&(g.value=[{_key:`${Date.now()}-${Math.random().toString(16).slice(2)}`,universityName:"",courseTitle:"",courseLink:"",offer:"",ucasPoints:"",ranking:1}]),p.value=!0},L=()=>{p.value=!1,g.value=[]},V=()=>{if(g.value.length>=5)return;const e=new Set(g.value.map(e=>Number(e.ranking)));let t=1;for(const a of[1,2,3,4,5])if(!e.has(a)){t=a;break}g.value.push({_key:`${Date.now()}-${Math.random().toString(16).slice(2)}`,universityName:"",courseTitle:"",courseLink:"",offer:"",ucasPoints:"",ranking:t})},$=e=>{const t=(e||"").toString().trim();if(!t)return null;const a=t.toLowerCase();return a.startsWith("javascript:")||a.startsWith("data:")?null:a.startsWith("http://")||a.startsWith("https://")?t:a.startsWith("www.")||t.includes(".")&&!t.includes(" ")?`https://${t}`:null},B=async()=>{var e,t;if(a.offersEditable){v.value=!0;try{const r=g.value.map(e=>({universityName:(e.universityName||"").trim(),courseTitle:(e.courseTitle||"").trim(),courseLink:$(e.courseLink)||"",offer:(e.offer||"").trim(),ucasPoints:null===e.ucasPoints||void 0===e.ucasPoints||""===String(e.ucasPoints).trim()?null:parseInt(e.ucasPoints,10),ranking:parseInt(e.ranking,10)})).filter(e=>e.universityName||e.courseTitle||e.courseLink||e.offer||null!==e.ucasPoints&&void 0!==e.ucasPoints).slice(0,5),o=r.map(e=>e.ranking).filter(Boolean),s=new Set(o);if(o.length!==s.size)throw new Error("Each offer must have a unique ranking (1-5).");for(const e of r){if(!(e.ranking>=1&&e.ranking<=5))throw new Error("Ranking must be between 1 and 5.");if(null!==e.ucasPoints&&!Number.isFinite(e.ucasPoints))throw new Error("UCAS points must be a number.")}const i=null==(e=window.ACADEMIC_PROFILE_V2_CONFIG)?void 0:e.apiUrl,l=null==(t=a.student)?void 0:t.email,c=a.academicYear||null,d=await async function(e,t,a,n=null){try{const o=`${a}/api/academic-profile/${encodeURIComponent(e)}/university-offers`;let s=null;try{if("undefined"!=typeof Knack&&Knack.getUserRoles){s=(Knack.getUserRoles()||[]).some(e=>e&&"Student"===e.name||"string"==typeof e&&e.toLowerCase().includes("student"))?"student":"staff"}}catch(r){}const i=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...s?{"X-User-Role":s}:{}},body:JSON.stringify({academicYear:n,offers:t})});if(!i.ok){let e=`API error: ${i.status}`;try{const t=await i.json();t&&(t.error||t.message)&&(e=t.error||t.message)}catch(r){}throw new Error(e)}return await i.json()}catch(o){return console.error("[Academic Profile API] updateUniversityOffers error:",o),{success:!1,error:o.message||"Failed to update university offers"}}}(l,r,i,c);if(!d||!d.success)throw new Error((null==d?void 0:d.error)||"Failed to save offers");L(),n("reload"),Y("University offers saved.","success")}catch(tc){console.error("[Academic Profile] saveOffers error:",tc),Y(tc.message||"Failed to save offers")}finally{v.value=!1}}},K=async()=>{r.value&&await H(),r.value=!r.value},W=(e,t,a)=>{if(k.value&&"targetGrade"!==t)return console.warn("[Academic Profile] Student attempted to edit forbidden field:",t),void Y("You can only edit your Target grade.");i.value[e]||(i.value[e]={}),i.value[e][t]=a,console.log("[Academic Profile] Change tracked:",{subjectId:e,field:t,value:a})},H=async()=>{var e;if(0!==Object.keys(i.value).length){s.value=!0;try{const t=[];for(const[n,r]of Object.entries(i.value)){const a=k.value?{targetGrade:r.targetGrade}:r;k.value&&void 0===a.targetGrade||t.push(js(n,a,null==(e=window.ACADEMIC_PROFILE_V2_CONFIG)?void 0:e.apiUrl))}if(0===t.length)return void(i.value={});const a=await Promise.all(t);if(!a.every(e=>e.success))throw new Error("Some updates failed");console.log("[Academic Profile] All changes saved successfully"),i.value={},n("reload"),Y("All changes saved successfully!","success")}catch(t){console.error("[Academic Profile] Save error:",t),Y("Error saving changes. Please try again.")}finally{s.value=!1}}else console.log("[Academic Profile] No changes to save")},Y=(e,t)=>{alert(e)};return(t,n)=>{var i,d,b;return Dn(),Vn("div",Oi,[Hn("section",{class:z(["vespa-section profile-section",{"ks4-theme":_.value}])},[Hn("h2",Mi,[Hn("span",Ii,[n[6]||(n[6]=Xn(" Student Profile ",-1)),Hn("span",{class:"profile-info-button",onClick:n[0]||(n[0]=e=>o.value=!0),title:"Understanding These Grades"},"i")]),Hn("div",Ni,[k.value||_.value?Qn("",!0):(Dn(),Vn("button",{key:0,class:"small-toggle",onClick:C,title:l.value?"Hide MEG":"Show MEG"}," MEG: "+J(l.value?"On":"Off"),9,Gi)),k.value||_.value?Qn("",!0):(Dn(),Vn("button",{key:1,class:"small-toggle",onClick:A,title:c.value?"Hide STG":"Show STG"}," STG: "+J(c.value?"On":"Off"),9,qi)),!k.value&&_.value?(Dn(),Vn("button",{key:2,class:"small-toggle",onClick:P,title:u.value?"Hide Predicted Grade":"Show Predicted Grade"}," Predicted: "+J(u.value?"On":"Off"),9,Di)):Qn("",!0),e.editable&&x.value?(Dn(),Vn("span",{key:3,class:z(["master-edit-icon",r.value?"save-icon":"edit-icon"]),onClick:K,title:r.value?"Save All Changes":"Edit All Grades"},J(r.value?" Save All":" Edit Grades"),11,Fi)):Qn("",!0),e.editable&&k.value?(Dn(),Vn("span",{key:4,class:z(["master-edit-icon",r.value?"save-icon":"edit-icon"]),onClick:K,title:r.value?"Save Target Grades":"Edit Target Grades"},J(r.value?" Save Targets":" Edit Targets"),11,Ri)):Qn("",!0)])]),Hn("div",{class:z(["profile-info",{"ks4-layout":_.value,"ks5-layout":!_.value}])},[Hn("div",{class:z(["profile-details",{"ks4-profile-strip":_.value,"ks5-profile-strip":!_.value}])},[Hn("div",Li,J(E.value),1),Hn("div",Vi,[Hn("div",$i,[n[7]||(n[7]=Hn("span",{class:"profile-label"},"School:",-1)),Hn("span",zi,J(U.value),1)]),O.value?(Dn(),Vn("div",Bi,[n[8]||(n[8]=Hn("span",{class:"profile-label"},"Year Group:",-1)),Hn("span",Ki,J(O.value),1)])):Qn("",!0),M.value?(Dn(),Vn("div",Wi,[n[9]||(n[9]=Hn("span",{class:"profile-label"},"Tutor Group:",-1)),Hn("span",Hi,J(M.value),1)])):Qn("",!0),!_.value&&e.student.attendance?(Dn(),Vn("div",Yi,[n[10]||(n[10]=Hn("span",{class:"profile-label"},"Attendance:",-1)),Hn("span",Ji,J((b=e.student.attendance,null==b?"N/A":`${Math.round(100*b)}%`)),1)])):Qn("",!0),!_.value&&e.student.priorAttainment?(Dn(),Vn("div",Xi,[n[11]||(n[11]=Hn("span",{class:"profile-label"},"Prior attainment:",-1)),Hn("span",Zi,J(e.student.priorAttainment),1)])):Qn("",!0),F.value?(Dn(),Vn("div",Qi,[n[12]||(n[12]=Hn("span",{class:"profile-label"},"Last update:",-1)),Hn("span",el,J(F.value),1)])):Qn("",!0)])],2),Hn("div",tl,[Hn("div",{class:z(["subjects-grid",{"ks4-grid":_.value}])},[_.value?(Dn(!0),Vn(On,{key:0},Sa(e.subjects,t=>(Dn(),$n(xs,{key:t.id||t.position,subject:t,"edit-mode":r.value,"is-staff":x.value,"allow-student-target-edit":e.editable&&k.value,"show-predicted":u.value,onUpdate:W},null,8,["subject","edit-mode","is-staff","allow-student-target-edit","show-predicted"]))),128)):(Dn(!0),Vn(On,{key:1},Sa(e.subjects,t=>(Dn(),$n(Yo,{key:t.id||t.position,subject:t,"edit-mode":r.value,"is-staff":x.value,"allow-student-target-edit":e.editable&&k.value,"show-meg":l.value,"show-stg":c.value,onUpdate:W},null,8,["subject","edit-mode","is-staff","allow-student-target-edit","show-meg","show-stg"]))),128))],2),0===e.subjects.length?(Dn(),Vn("div",al," No subjects available ")):Qn("",!0),_.value?Qn("",!0):(Dn(),Vn("div",nl,[Hn("div",rl,[n[13]||(n[13]=Hn("div",{class:"university-offers-title"},"University Offers",-1)),Hn("div",ol,[Hn("button",{class:"offers-ucasapp-btn",type:"button",onClick:h,disabled:0===N.value.length,title:N.value.length?"Write your UCAS 3-question statement":"Add a University Offer first"},J(k.value?" UCAS Application":" View UCAS Application"),9,sl),e.offersEditable?(Dn(),Vn("button",{key:0,class:"offers-edit-btn",onClick:R,title:"Add or edit up to 5 university offers"},"  Edit Offers ")):Qn("",!0),N.value.length>0?(Dn(),Vn("button",{key:1,class:"offers-toggle-btn",disabled:N.value.length<=1,onClick:D},[Hn("span",{class:z(["offers-chevron",{open:f.value}])},"",2),Xn(" "+J(f.value?"Hide offers":`View offers (${N.value.length})`),1)],8,il)):Qn("",!0)])]),q.value?(Dn(),Vn("button",{key:0,type:"button",class:"university-offers-top offer-top-toggle",title:N.value.length>1?"Click to expand/collapse all offers":"Top offer",onClick:n[2]||(n[2]=e=>N.value.length>1?D():null)},[Hn("div",cl,[Hn("span",dl,"#"+J(q.value.ranking),1),Hn("span",ul,J(q.value.universityName||"University"),1),q.value.courseTitle?(Dn(),Vn("span",fl," "+J(q.value.courseTitle),1)):Qn("",!0)]),Hn("div",pl,[q.value.offer?(Dn(),Vn("span",vl,"Offer: "+J(q.value.offer),1)):Qn("",!0),null!==q.value.ucasPoints&&void 0!==q.value.ucasPoints&&""!==q.value.ucasPoints?(Dn(),Vn("span",gl," UCAS: "+J(q.value.ucasPoints),1)):Qn("",!0),$(q.value.courseLink)?(Dn(),Vn("a",{key:2,class:"offer-link-btn",href:$(q.value.courseLink),target:"_blank",rel:"noopener noreferrer",onClick:n[1]||(n[1]=so(()=>{},["stop"]))},"  Course link ",8,ml)):Qn("",!0)]),N.value.length>1?(Dn(),Vn("div",hl,[Hn("span",{class:z(["offers-chevron",{open:f.value}])},"",2),Hn("span",null,J(f.value?"Click to collapse":"Click to expand"),1)])):Qn("",!0)],8,ll)):(Dn(),Vn("div",bl,[n[14]||(n[14]=Hn("span",null,"No offers added yet.",-1)),e.offersEditable?(Dn(),Vn("button",{key:0,class:"offers-add-btn",onClick:R}," Add offers")):Qn("",!0)])),f.value&&N.value.length?(Dn(),Vn("div",yl,[(Dn(!0),Vn(On,null,Sa(G.value,e=>(Dn(),Vn("div",{key:e._key,class:"offer-item"},[Hn("div",xl,[Hn("span",kl,"#"+J(e.ranking),1),Hn("span",wl,J(e.universityName||"University"),1),e.courseTitle?(Dn(),Vn("span",_l," "+J(e.courseTitle),1)):Qn("",!0)]),Hn("div",Sl,[e.offer?(Dn(),Vn("span",jl,"Offer: "+J(e.offer),1)):Qn("",!0),null!==e.ucasPoints&&void 0!==e.ucasPoints&&""!==e.ucasPoints?(Dn(),Vn("span",Cl," UCAS: "+J(e.ucasPoints),1)):Qn("",!0),$(e.courseLink)?(Dn(),Vn("a",{key:2,class:"offer-link-btn",href:$(e.courseLink),target:"_blank",rel:"noopener noreferrer",onClick:n[3]||(n[3]=so(()=>{},["stop"]))},"  Course link ",8,Al)):Qn("",!0)])]))),128))])):Qn("",!0)]))])],2),e.dataSource?(Dn(),Vn("div",{key:0,class:z(["data-source-dot","supabase"===e.dataSource?"live-source":"fallback-source"]),title:"Data loaded from "+("supabase"===e.dataSource?"Supabase (live)":"Knack (fallback)")},null,10,Pl)):Qn("",!0)],2),o.value?(Dn(),$n(Ss,{key:0,"is-staff":x.value,"is-ks4":_.value,onClose:n[4]||(n[4]=e=>o.value=!1)},null,8,["is-staff","is-ks4"])):Qn("",!0),m.value?(Dn(),$n(Ui,{key:1,"student-email":(null==(i=a.student)?void 0:i.email)||"","academic-year":a.academicYear||"",subjects:a.subjects||[],offers:G.value,"top-offer":q.value,"api-url":(null==(d=t.window.ACADEMIC_PROFILE_V2_CONFIG)?void 0:d.apiUrl)||"","can-edit":k.value,"comments-enabled":!0,"can-add-comment":x.value,"staff-email":w.value,onClose:n[5]||(n[5]=e=>m.value=!1)},null,8,["student-email","academic-year","subjects","offers","top-offer","api-url","can-edit","can-add-comment","staff-email"])):Qn("",!0),s.value?(Dn(),Vn("div",Tl,[...n[15]||(n[15]=[Hn("div",{class:"spinner"},null,-1),Hn("p",null,"Saving changes...",-1)])])):Qn("",!0),p.value?(Dn(),Vn("div",{key:3,class:"offers-modal-overlay",onClick:so(L,["self"])},[Hn("div",El,[Hn("div",{class:"offers-modal-header"},[n[16]||(n[16]=Hn("div",{class:"offers-modal-title"},"University Offers (max 5)",-1)),n[17]||(n[17]=Hn("a",{class:"offers-ucas-link",href:"https://www.ucas.com/",target:"_blank",rel:"noopener noreferrer",title:"Open UCAS in a new tab"},"  UCAS search ",-1)),Hn("button",{class:"offers-modal-close",onClick:L},"")]),Hn("div",Ul,[n[20]||(n[20]=Hn("div",{class:"offers-help"},[Xn(" Add up to 5 offers. The profile displays your "),Hn("strong",null,"#1 ranked"),Xn(" offer by default. ")],-1)),Hn("div",Ol,[n[19]||(n[19]=Zn('<div class="offers-grid-head" data-v-c25b9d2a>Rank</div><div class="offers-grid-head" data-v-c25b9d2a>University</div><div class="offers-grid-head" data-v-c25b9d2a>Course</div><div class="offers-grid-head" data-v-c25b9d2a>Link</div><div class="offers-grid-head" data-v-c25b9d2a>Offer</div><div class="offers-grid-head" data-v-c25b9d2a>UCAS</div><div class="offers-grid-head" data-v-c25b9d2a></div>',7)),(Dn(!0),Vn(On,null,Sa(g.value,(e,t)=>(Dn(),Vn(On,{key:e._key},[Hn("div",null,[Jt(Hn("select",{"onUpdate:modelValue":t=>e.ranking=t,class:"offers-input"},[...n[18]||(n[18]=[Hn("option",{value:1},"1",-1),Hn("option",{value:2},"2",-1),Hn("option",{value:3},"3",-1),Hn("option",{value:4},"4",-1),Hn("option",{value:5},"5",-1)])],8,Ml),[[to,e.ranking,void 0,{number:!0}]])]),Hn("div",null,[Jt(Hn("input",{"onUpdate:modelValue":t=>e.universityName=t,class:"offers-input",placeholder:"e.g. Manchester"},null,8,Il),[[eo,e.universityName]])]),Hn("div",null,[Jt(Hn("input",{"onUpdate:modelValue":t=>e.courseTitle=t,class:"offers-input",placeholder:"e.g. Computer Science"},null,8,Nl),[[eo,e.courseTitle]])]),Hn("div",null,[Jt(Hn("input",{"onUpdate:modelValue":t=>e.courseLink=t,class:"offers-input",placeholder:"https://"},null,8,Gl),[[eo,e.courseLink]])]),Hn("div",null,[Jt(Hn("input",{"onUpdate:modelValue":t=>e.offer=t,class:"offers-input",placeholder:"e.g. AAB"},null,8,ql),[[eo,e.offer]])]),Hn("div",null,[Jt(Hn("input",{"onUpdate:modelValue":t=>e.ucasPoints=t,class:"offers-input",placeholder:"e.g. 128"},null,8,Dl),[[eo,e.ucasPoints]])]),Hn("div",null,[Hn("button",{class:"offers-remove",onClick:e=>(e=>{g.value.splice(e,1),0===g.value.length&&V()})(t),title:"Remove"},"",8,Fl)])],64))),128))]),Hn("div",Rl,[Hn("button",{class:"offers-secondary",onClick:V,disabled:g.value.length>=5},"  Add Offer ",8,Ll)])]),Hn("div",Vl,[Hn("button",{class:"offers-secondary",onClick:L},"Cancel"),Hn("button",{class:"offers-primary",onClick:B,disabled:v.value},J(v.value?"Saving...":"Save Offers"),9,$l)])])])):Qn("",!0)])}}},[["__scopeId","data-v-c25b9d2a"]]),Bl={id:"academic-profile-v2",class:"academic-profile-container"},Kl={class:"profile-toggle-bar"},Wl={class:"toggle-icon"},Hl={class:"toggle-text"},Yl={class:"profile-wrapper"},Jl={key:0,class:"profile-loading"},Xl={key:1,class:"profile-error"},Zl={key:2,class:"profile-content"},Ql={key:3,class:"profile-empty"},ec={__name:"App",props:{config:{type:Object,required:!0}},setup(e){const t=e,a=yt(null),n=yt(!1),r=yt(null),o=yt(t.config),s=yt(!(!t.config||!t.config.defaultVisible)),i=yr(()=>{if(o.value&&o.value.forcedStudentEmail)return o.value.forcedStudentEmail;if("undefined"==typeof Knack)return null;let e=null;const t=window.location.hash;if(t&&t.includes("?")){const a=t.split("?")[1];e=new URLSearchParams(a).get("email")}if(e)return console.log("[Academic Profile V2] Using email from URL:",e),e;const a=Knack.getUserAttributes();return(null==a?void 0:a.email)||null}),l=["object_5","object_7","object_18","object_78"],c=["tutor","staff","admin","head","teacher","subject"],d=yr(()=>{if(o.value&&o.value.forceEditable)return!0;if("undefined"==typeof Knack)return!1;const e=Knack.getUserRoles?Knack.getUserRoles():[],t=(e=>Array.isArray(e)?e.flatMap(e=>{if(!e)return[];if("string"==typeof e)return[e];const t=[];return e.id&&t.push(e.id),e.key&&t.push(e.key),e.name&&t.push(e.name),t}).map(e=>String(e).trim().toLowerCase()).filter(Boolean):[])(e),a=t.some(e=>l.includes(e))||t.some(e=>c.some(t=>e.includes(t))),n=!a;return console.log("[Academic Profile V2] User roles:",e,"Is staff:",a,"Is student:",n),n?!1!==o.value.studentTargetEditable&&!1!==o.value.editable:a&&!1!==o.value.editable}),u=yr(()=>!(!o.value||!o.value.forceEditableOffers)||"undefined"!=typeof Knack&&!1!==o.value.offersEditable),f=async()=>{if(i.value){n.value=!0,r.value=null;try{console.log("[Academic Profile V2] Loading profile for:",i.value);const e=await async function(e,t,a=null){try{console.log("[Academic Profile API] Fetching profile for:",e);const n=e=>{if(null==e)return null;if(Array.isArray(e))return e.length?n(e[0]):null;if("object"==typeof e){for(const t of["identifier","name","text","label","value"])if(e&&e[t])return String(e[t]).trim();return null}return String(e).trim()};let r=`${t}/api/academic-profile/${encodeURIComponent(e)}`;const o=new URLSearchParams;a&&o.append("academic_year",a),o.toString()&&(r+=`?${o.toString()}`);const s=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){if(404===s.status)return{success:!1,error:"Profile not found"};throw new Error(`API error: ${s.status} ${s.statusText}`)}const i=await s.json();return console.log("[Academic Profile API] Profile fetched:",i.dataSource),i&&i.student&&(i.student.name=n(i.student.name)||i.student.name,i.student.school=n(i.student.school)||i.student.school,i.student.yearGroup=n(i.student.yearGroup)||i.student.yearGroup,i.student.tutorGroup=n(i.student.tutorGroup)||i.student.tutorGroup),i}catch(r){return console.error("[Academic Profile API] Fetch error:",r),{success:!1,error:r.message||"Failed to fetch profile"}}}(i.value,o.value.apiUrl);e.success?(a.value=e,console.log("[Academic Profile V2] Profile loaded:",e.dataSource)):r.value=e.error||"Failed to load profile"}catch(e){console.error("[Academic Profile V2] Load error:",e),r.value="Error loading profile. Please try again."}finally{n.value=!1}}else r.value="Student email not available"},p=()=>{s.value=!s.value,console.log("[Academic Profile V2] Toggled visibility:",s.value)};return bn(()=>window.location.hash,()=>{console.log("[Academic Profile V2] Hash changed, reloading..."),f()}),va(()=>{console.log("[Academic Profile V2] Component mounted"),f()}),(e,t)=>(Dn(),Vn("div",Bl,[Hn("div",Kl,[Hn("button",{onClick:p,class:z(["toggle-button",{collapsed:!s.value}])},[Hn("span",Wl,J(s.value?"":""),1),Hn("span",Hl,J(s.value?"Hide":"Show")+" Academic Profile",1)],2)]),Jt(Hn("div",Yl,[n.value?(Dn(),Vn("div",Jl,[...t[0]||(t[0]=[Hn("div",{class:"spinner"},null,-1),Hn("p",null,"Loading academic profile...",-1)])])):r.value?(Dn(),Vn("div",Xl,[Hn("p",null,J(r.value),1),Hn("button",{onClick:f,class:"retry-btn"},"Retry")])):a.value?(Dn(),Vn("div",Zl,[Yn(zl,{student:a.value.student,subjects:a.value.subjects,"updated-at":a.value.updatedAt,"academic-year":a.value.academicYear,"ui-defaults":a.value.uiDefaults,editable:d.value,"offers-editable":u.value,mode:o.value.mode||"inline","data-source":a.value.dataSource,onReload:f},null,8,["student","subjects","updated-at","academic-year","ui-defaults","editable","offers-editable","mode","data-source"])])):(Dn(),Vn("div",Ql,[...t[1]||(t[1]=[Hn("p",null,"Academic profile not available for this student.",-1)])]))],512),[[Er,s.value]])]))}};"undefined"!=typeof window&&(window.initializeAcademicProfileV2=function(){console.log("[Academic Profile V2] Initializing...");const e=window.ACADEMIC_PROFILE_V2_CONFIG;if(!e)return void console.error("[Academic Profile V2] Config not found");console.log("[Academic Profile V2] Config loaded:",e);const t=document.querySelector(e.elementSelector);if(!t)return void console.error("[Academic Profile V2] Mount point not found:",e.elementSelector);t.innerHTML="";const a=document.createElement("div");a.id="academic-profile-app",t.appendChild(a),co(ec,{config:e}).mount("#academic-profile-app"),console.log("[Academic Profile V2] Mounted successfully")})}();
